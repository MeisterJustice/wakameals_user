(this["webpackJsonpwaka-meals-user"]=this["webpackJsonpwaka-meals-user"]||[]).push([[0],{108:function(e,t,a){},110:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(2),n=a.n(s),r=a(12),l=a.n(r),o=(a(108),a(5)),i=(a(109),a(110),a(11)),d=a(16),j=a(15),b=a(10),u=a.n(b),O=a(26),m=a(20),p=a(4),h=a(8),x=a.n(h),f=a(86),v=a(31),g=a(22),y="USER_SIGNIN_REQUEST",N="USER_SIGNIN_SUCCESS",S="USER_SIGNIN_FAIL",w="USER_LOGOUT",k="DONE",C="REFRESH";function _(e){var t=Object(s.useState)(null),a=Object(p.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)(0),o=Object(p.a)(l,2),j=o[0],b=o[1],u=Object(g.b)(),O=Object(d.f)();Object(s.useEffect)((function(){e.cartSize&&b(e.cartSize)}),[e.cartSize]),Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=localStorage.getItem("cart"),a=JSON.parse(t);r(e),void 0!==a&&null!==a&&b(a.length)}),[]);return Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg py-2",children:[Object(c.jsxs)(i.b,{to:"/",className:"navbar-brand",children:[" ",Object(c.jsx)("img",{style:{borderRadius:"4px"},alt:"logo",src:"/logo.jpg"})]}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)(f.a,{style:{color:"white",fontSize:"30px"}})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:["string"===typeof n&&Object(c.jsx)(i.b,{to:"/account",className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link text-white",children:"My Account"})}),"string"===typeof n&&Object(c.jsx)("div",{onClick:function(){localStorage.removeItem("token"),u({type:w}),r(null),O.push("/signin")},className:"nav-item cursor",children:Object(c.jsx)("div",{className:"nav-link text-white",children:"Log Out"})}),"string"!==typeof n&&Object(c.jsx)(i.b,{to:"/signin",className:"nav-item",children:Object(c.jsx)("div",{className:"nav-link text-white",children:"Sign In"})}),"string"!==typeof n&&Object(c.jsx)(i.b,{to:"/signup",className:"nav-item",children:Object(c.jsx)("div",{className:"nav-link text-white",children:"Sign Up"})})]}),Object(c.jsxs)("ul",{className:"navbar-nav ml-auto",children:[e.setOpen&&e.home&&Object(c.jsx)("div",{className:"nav-item cursor",children:Object(c.jsxs)("div",{onClick:function(){u({type:C}),e.setOpen(!0),e.setSuccess(!1)},className:"nav-link text-white",children:[Object(c.jsx)(v.a,{style:{color:"#ff8903",fontSize:"1.5em"}})," change location"]})}),!e.cart&&Object(c.jsx)(i.b,{to:"/cart",className:"nav-item",children:Object(c.jsxs)("a",{className:"nav-link text-white",children:[Object(c.jsx)(v.f,{style:{color:"#ff8903",fontSize:"1.5em"}})," ",j," items"]})})]})]})]})})}var E=a(19),z=a.n(E),I=a(184),A=a(183),T=a(182),F=a(180),W=a(181),L=a(179),R=a(51),P=a.n(R);function D(e){var t=e.meal,a=e.open,s=e.handleClose;return Object(c.jsxs)(A.a,{open:a,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(c.jsx)(L.a,{id:"alert-dialog-title",children:t.name}),Object(c.jsx)(F.a,{children:Object(c.jsxs)(W.a,{id:"alert-dialog-description",children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{alt:"photo",style:{height:"200px",width:"100%"},src:t.image})}),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)("div",{className:"d-flex flex-row-reverse",children:Object(c.jsx)("p",{style:{color:"black",fontSize:"0.8em",fontWeight:"bold"},children:Object(c.jsx)(z.a,{children:t.price})})}),Object(c.jsx)("h5",{style:{color:"black"},children:"Description "}),Object(c.jsx)("p",{style:{color:"black",fontSize:"0.7em"},children:P()(t.description)})]})})]})}),Object(c.jsx)(T.a,{children:Object(c.jsx)(I.a,{onClick:s,style:{color:"#ff8903"},children:"CLOSE"})})]})}var J=a(54),M=function(e){var t=e.extra,a=e.setCartData,n=e.cartData,r=Object(s.useState)(0),l=Object(p.a)(r,2),i=l[0],d=l[1],j=Object(s.useState)(1),b=Object(p.a)(j,2),h=b[0],x=b[1],f=function(){var e=Object(m.a)(u.a.mark((function e(){var c,s,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t.price*(Number(h-1)+1));case 2:return e.next=4,x(h+1);case 4:return e.next=6,n.meal_extras.filter((function(e){return e.id===t.id}));case 6:return c=e.sent,e.next=9,c.length;case 9:if(e.t0=e.sent,e.t0>0){e.next=16;break}return e.next=14,a(Object(o.a)(Object(o.a)({},n),{},{meal_extras:[].concat(Object(O.a)(n.meal_extras),[{id:t.id,quantity:Number(h-1)+1}])}));case 14:e.next=30;break;case 16:return e.next=18,n.meal_extras.findIndex((function(e){return e.id===t.id}));case 18:return s=e.sent,r=Object(O.a)(n.meal_extras),l=Object(o.a)({},r[s]),e.next=23,Number(h-1);case 23:return e.t1=e.sent,l.quantity=e.t1+1,e.next=27,l;case 27:return r[s]=e.sent,e.next=30,a(Object(o.a)(Object(o.a)({},n),{},{meal_extras:r}));case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(u.a.mark((function e(){var c,s,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h-1<1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d(i-t.price);case 4:return e.next=6,x(h-1);case 6:return e.next=8,n.meal_extras.filter((function(e){return e.id===t.id}));case 8:return c=e.sent,e.next=11,c.length;case 11:if(e.t0=e.sent,e.t0>0){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,n.meal_extras.findIndex((function(e){return e.id===t.id}));case 19:return s=e.sent,r=Object(O.a)(n.meal_extras),l=Object(o.a)({},r[s]),e.next=24,Number(h);case 24:return e.t1=e.sent,l.quantity=e.t1-1,e.next=28,l;case 28:return r[s]=e.sent,e.next=31,a(Object(o.a)(Object(o.a)({},n),{},{meal_extras:r}));case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"mt-2",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("p",{style:{opacity:.9,color:"black",fontWeight:"600",fontSize:"0.9em",display:"inline"},children:t.name}),Object(c.jsxs)("p",{style:{opacity:.9,color:"black",fontSize:"0.7em",display:"inline",fontWeight:"500"},className:"ml-2",children:[Object(c.jsx)(z.a,{children:t.price}),"/",t.measurement_quantity,t.measurement_type]})]}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("p",{style:{color:"black",fontSize:"1em",display:"inline",fontWeight:"500"},children:Object(c.jsx)(z.a,{children:i})})}),Object(c.jsxs)("div",{className:"btn-group btn-group-sm col-4",role:"group","aria-label":"...",children:[Object(c.jsx)("button",{onClick:v,type:"button",className:"btn btn-style",children:Object(c.jsx)(J.a,{})}),Object(c.jsx)("div",{className:"btn btn-style",children:h-1}),Object(c.jsx)("button",{onClick:f,type:"button",className:"btn btn-style",children:Object(c.jsx)(J.b,{})})]})]}),Object(c.jsx)("hr",{className:"mt-3"})]})},B=a(185);function U(e){var t=e.meal,a=e.person,n=e.handleAddCart,r=e.open,l=e.handleClose,i=Object(s.useState)(Number(t.price)),d=Object(p.a)(i,2),j=d[0],b=d[1],O=Object(s.useState)({id:"",meal_id:"",special_instruction:"",meal_extras:[]}),h=Object(p.a)(O,2),x=h[0],f=h[1],v=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(o.a)(Object(o.a)({},x),{},{meal_id:t.id,id:Object(B.a)()})),f({id:"",meal_id:"",special_instruction:"",meal_extras:[]}),l();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsxs)(A.a,{fullWidth:!0,open:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-cart",children:[Object(c.jsx)(L.a,{id:"alert-dialog-title",children:Object(c.jsx)("h5",{style:{color:"#ff8903"},className:"modal-title",id:"exampleModalCenterTitle",children:Object(c.jsx)(z.a,{children:j})})}),Object(c.jsx)(F.a,{children:Object(c.jsx)(W.a,{id:"alert-dialog-cart",children:Object(c.jsxs)("div",{className:"pr-3",children:[t.extra_items.map((function(e,s){return Object(c.jsx)(M,{price:j,setPrice:b,meal:t,cartData:x,person:a,setCartData:f,extra:e},s)})),Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)("label",{htmlFor:"additional-request",style:{color:"black"},children:"Additional Request"}),Object(c.jsx)("input",{onChange:function(e){return f(Object(o.a)(Object(o.a)({},x),{},{special_instruction:e.target.value}))},type:"text",className:"form-control",id:"additional-request",placeholder:"I am allergic to garlic"})]}),Object(c.jsx)("div",{onClick:v,className:"mt-3",children:Object(c.jsx)("button",{"data-dismiss":"modal","aria-label":"Close",className:"btn btn-md btn-block",style:{backgroundColor:"#ff8903",color:"white"},children:"ADD TO CART"})})]})})}),Object(c.jsx)(T.a,{children:Object(c.jsx)(I.a,{onClick:l,style:{color:"#black",fontWeight:"550"},children:"CLOSE"})})]})})}var Y=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)(!1),o=Object(p.a)(l,2),i=o[0],d=o[1];return Object(c.jsxs)("div",{className:"bg-white mt-4",children:[Object(c.jsx)("div",{className:"mt-4",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-7 col-md-8",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3",children:Object(c.jsx)("img",{alt:"photo",style:{width:"90px",height:"90px"},src:e.meal.image})}),Object(c.jsxs)("div",{style:{width:"100%"},className:"col-lg-9",children:[Object(c.jsx)("div",{className:"food-desc",children:e.meal.name}),Object(c.jsx)("div",{className:"food-desc mute mt-1",children:P()(e.meal.description)})]})]})}),Object(c.jsxs)("div",{className:"col-5 col-md-4",children:[Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"food-list-item-1",style:{fontSize:"1.2em"},children:Object(c.jsx)(z.a,{children:e.meal.price})})}),Object(c.jsx)("div",{className:"mt-3",children:Object(c.jsx)("button",{onClick:function(){d(!0)},style:{backgroundColor:"#FF8903",color:"white"},className:"btn btn-sm",children:"Add To Cart"})})]})]})}),Object(c.jsx)("hr",{className:"py-2"}),Object(c.jsx)(D,{handleClose:function(){r(!1)},open:n,meal:e.meal}),Object(c.jsx)(U,{handleClose:function(){d(!1)},open:i,notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart,person:e.person,meal:e.meal})]})},q=function(e){return Object(c.jsx)("div",{children:e.data.meals.map((function(t,a){return Object(s.createElement)(Y,Object(o.a)(Object(o.a)({index:a,notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart},e),{},{key:a,meal:t}))}))})},G=function(e){return Object(c.jsxs)("div",{id:"".concat(e.data.name).concat(e.index),className:"mt-3 mx-lg-5",children:[Object(c.jsx)("h6",{className:"cat-title",children:e.data.name}),e.data.subcategories.map((function(t,a){return Object(c.jsx)("div",{children:Object(c.jsx)(q,Object(o.a)(Object(o.a)({notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart},e),{},{data:t}))},a)}))]})};function H(e){return Object(c.jsx)("div",{className:"bg-white p-3",children:e.meals.map((function(t,a){return Object(s.createElement)(G,Object(o.a)(Object(o.a)({notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart},e),{},{key:a,data:t,index:a}))}))})}var V=a(39),X=a.n(V),K={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#ff8903"}},Q=function(e){return Object(c.jsxs)(X.a,{isOpen:e.openFail,onRequestClose:function(){return null},style:K,contentLabel:"Fail",children:[Object(c.jsx)("div",{className:"py-5 white",children:"Sorry, we are not available at your location yet. Please click the button below to drop a message"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){e.setOpenSuccess(!1),e.setOpenFail(!1),e.setOpen(!1)},className:"btn btn-sm modal-btn",children:"Send Message"})})]})},Z={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#ff8903"}},$=function(e){var t=Object(g.b)(),a=Object(s.useState)(1),n=Object(p.a)(a,2),r=n[0],l=n[1],i=Object(s.useState)(1),d=Object(p.a)(i,2),b=d[0],u=d[1],O=Object(s.useState)({}),m=Object(p.a)(O,2),h=m[0],f=m[1],v=Object(s.useState)([]),y=Object(p.a)(v,2),N=y[0],S=(y[1],Object(s.useState)(!1)),w=Object(p.a)(S,2),C=w[0],_=w[1],E=Object(s.useState)(""),z=Object(p.a)(E,2),I=z[0],A=z[1],T=Object(s.useState)({data:[],location:"",code:"",place:""}),F=Object(p.a)(T,2),W=F[0],L=F[1],R=Object(s.useState)(""),P=Object(p.a)(R,2),D=P[0],J=P[1],M=Object(s.useState)(!1),B=Object(p.a)(M,2),U=B[0],Y=B[1],q=Object(s.useState)(""),G=Object(p.a)(q,2),H=G[0],V=G[1],K=Object(s.useState)(!0),Q=Object(p.a)(K,2),$=Q[0],ee=Q[1],te=Object(s.useState)(!0),ae=Object(p.a)(te,2),ce=ae[0],se=ae[1];Object(s.useEffect)((function(){x.a.get("https://server.wakameals.validprofits.xyz/api/avail_pickup/".concat(e.pickupLocation.slug,"/list")).then((function(e){L(Object(o.a)(Object(o.a)({},W),{},{data:e.data.pickup_locations}))}))}),[]);var ne=function(){e.setOpenSuccess(!1),e.setOpenFail(!1),e.setOpen(!1),t({type:k})},re=function(t){localStorage.setItem("deliveryOption",JSON.stringify(t)),"door_delivery"!==t||e.pickupLocation.delivery_available?"pickup"!==t||e.pickupLocation.pickup_available?(_(!0),V(t),J(t)):(se(!1),ee(!0)):(ee(!1),se(!0))},le=function(t){"continue"===t?l(2):(e.setOpen(!0),e.setSuccess(!1),e.setOpenSuccess(!1),ee(!0),se(!0),l(1))};return Object(c.jsxs)(X.a,{isOpen:e.openSuccess,onRequestClose:function(){return null},style:Z,contentLabel:"Success",children:[1===r&&Object(c.jsx)("div",{children:C?Object(c.jsxs)("div",{children:["door_delivery"===H&&!U&&Object(c.jsxs)("div",{className:"p-5",children:[Object(c.jsx)("textarea",{name:"address",onChange:function(e){return A(e.target.value)},className:"form-control",placeholder:"your delivery address",required:!0}),Object(c.jsx)("button",{onClick:function(){localStorage.setItem("door_delivery",JSON.stringify(I)),Y(!0)},className:"btn btn-sm modal-btn mt-2",children:"Continue"})]}),"pickup"===H&&!U&&Object(c.jsx)("div",{className:"my-3",children:W.data.map((function(e){return Object(c.jsxs)("div",{onClick:function(){return function(e,t){L(Object(o.a)(Object(o.a)({},W),{},{location:"".concat(t.address,", ").concat(t.place.name,", ").concat(t.name),code:e,place:t.place.id})),localStorage.setItem("pickup",JSON.stringify({location:"".concat(t.address,", ").concat(t.place.name,", ").concat(t.name),code:e})),Y(!0)}(e.code,e)},style:{border:"1px white solid",fontSize:"14px",color:"white"},className:"p-2 hover-location cursor mt-2",children:[e.address,", ",e.place.name,", ",e.name,Object(c.jsx)("span",{className:"location-pointer",children:"deh"})]},e.id)}))}),U&&Object(c.jsxs)("div",{className:"p-2",children:[Object(c.jsxs)("p",{style:{color:"white"},children:["Great! ",D," option is available in your location. Press reset to restart the checker or continue with your order..."]}),Object(c.jsxs)("div",{className:"p-4 d-flex justify-content-around align-items-center",children:[Object(c.jsx)("button",{onClick:function(){return le("reset")},className:"btn btn-sm modal-btn mr-2",children:"Reset"}),Object(c.jsx)("button",{onClick:function(){return le("continue")},className:"btn btn-sm modal-btn",children:"Continue"})]})]})]}):Object(c.jsxs)("div",{children:[$&&Object(c.jsx)("div",{children:e.isLuck?Object(c.jsx)("div",{children:ce&&Object(c.jsx)("div",{className:"py-5 white",children:"Wow! you are in luck, choose an option below\u2026\u2026"})}):Object(c.jsx)("div",{className:"py-5 white",children:"Choose an option below\u2026\u2026"})}),Object(c.jsxs)("div",{children:[!$&&Object(c.jsx)("p",{style:{color:"white"},children:"Delivery Option isn't available in your location yet. Please select another option"}),!ce&&Object(c.jsx)("p",{style:{color:"white"},children:"Pickup Option isn't available in your location yet. Please select another option"}),Object(c.jsxs)("div",{className:"d-flex justify-content-around align-items-center p-4",children:[Object(c.jsx)("button",{onClick:function(){return re("door_delivery")},className:"btn btn-sm modal-btn",children:"Delivery"}),(!$||!ce)&&Object(c.jsx)("button",{onClick:function(){return le("reset")},className:"btn btn-sm modal-btn mr-2",children:"Reset"}),Object(c.jsx)("button",{onClick:function(){return re("pickup")},className:"btn btn-sm modal-btn",children:"Pickup"})]})]})]})}),2===r&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"py-3 white",children:"How many persons are you ordering for?"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{value:b,name:"number",onChange:function(e){u(e.target.value)},type:"number",className:"form-control"}),Object(c.jsx)("button",{onClick:function(){if(l(3),b>1)for(var t=1;t<=new Array(Number(b)).length;t++)N.push(t);else localStorage.removeItem("names"),localStorage.setItem("names",JSON.stringify([1])),e.setSuccess(!0),ne(),e.notifySuccess("You're shopping for 1 person")},className:"btn btn-sm modal-btn mt-4 d-inline",children:"Continue"}),Object(c.jsx)("button",{onClick:function(){localStorage.removeItem("names"),localStorage.setItem("names",JSON.stringify([1])),e.setSuccess(!0),ne(),e.notifySuccess("You're shopping for 1 person")},className:"btn btn-sm modal-btn mt-4 d-inline ml-2",children:"Cancel"})]})]}),3===r&&b>1&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"py-3 white",children:"Click the button below to customise your orders"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){return l(4)},className:"btn modal-btn mt-4 ml-2",children:"CUSTOMISE"})})]}),4===r&&Object(c.jsxs)("div",{style:{height:"70vh",overflowY:"scroll"},className:"pl-2 pr-4",children:[Object(c.jsxs)("h4",{className:"white",children:["Please enter the name of the ",b," persons"]}),N.map((function(e,t){return Object(c.jsxs)("div",{className:"mt-2",children:[Object(c.jsxs)("label",{className:"white",children:["Person ",e]}),Object(c.jsx)("input",{name:"text",onChange:function(e){return function(e,t){f(Object(o.a)(Object(o.a)({},h),{},Object(j.a)({},t,e.target.value)))}(e,t)},type:"text",className:"form-control",placeholder:"Mark Essien"})]})})),Object(c.jsx)("button",{onClick:function(){return localStorage.setItem("names",JSON.stringify(Object.values(h))),e.setSuccess(!0),e.notifySuccess("You're shopping for ".concat(b," persons")),void ne()},className:"btn btn-sm modal-btn mt-4",children:"Continue"})]})]})},ee=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],l=function(){var t=Object(m.a)(u.a.mark((function t(a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,e.states.filter((function(e){return e.id==a.target.value}));case 3:c=t.sent,e.setPlace(Object(o.a)({},c[0])),r(!1),localStorage.setItem("place",JSON.stringify(c[0].id));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsx)("div",{children:n?Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(c.jsx)("div",{className:"spinner-grow text-center",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"locationDropdown",className:"white",children:"Select Location"}),Object(c.jsxs)("select",{className:"form-control cursor",onChange:l,children:[Object(c.jsx)("option",{value:"",children:"Pick a city..."}),e.states.map((function(e){return Object(c.jsx)("option",{className:"cursor",value:e.id,children:e.name},e.slug)}))]})]})})},te={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#ff8903"}},ae=function(e){var t=Object(s.useState)({name:"",slug:"",id:"",code:"",delivery_available:!0,pickup_available:!0}),a=Object(p.a)(t,2),n=a[0],r=a[1];return Object(c.jsx)("div",{children:Object(c.jsxs)(X.a,{isOpen:e.open,onRequestClose:function(){return null},style:te,contentLabel:"Select Location",children:[Object(c.jsx)("h6",{className:"modal-title white",id:"myLandingModalLabel",children:"Welcome to WakaFoods! Please choose your location"}),Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)(ee,Object(o.a)(Object(o.a)({},e),{},{openFail:e.openFail,setOpenFail:e.setOpenFail,openSuccess:e.openSuccess,setOpenSuccess:e.setOpenSuccess,place:n,setPlace:r})),Object(c.jsx)("div",{className:"py-2",children:n.name.length>0&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"text-white",children:n.name}),Object(c.jsx)("button",{onClick:function(){e.setOpen(!1),localStorage.removeItem("location"),localStorage.setItem("location",JSON.stringify({name:n.name,slug:n.slug,id:n.id,code:n.code,delivery_available:n.delivery_available,pickup_available:n.pickup_available})),e.setLocation({name:n.name,slug:n.slug,id:n.id,code:n.code,delivery_available:n.delivery_available,pickup_available:n.pickup_available}),e.setIsLuck(!0),e.setOpenSuccess(!0)},className:"mt-1 d-inline btn btn-sm modal-btn",children:"select"})]})})]})]})})},ce=a.p+"static/media/preloader1.35081130.gif";function se(e){var t=e.home;return Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:t?"20vh":"90vh",width:"100%"},children:Object(c.jsx)("div",{className:"overlay",children:Object(c.jsx)("div",{className:"spinner",children:Object(c.jsx)("img",{alt:"loader",style:{width:"50px",height:"50px"},src:ce})})})})}var ne=a(33),re=a(18),le=(a(43),function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),l=Object(p.a)(r,2),o=l[0],i=l[1],d=Object(s.useState)(!1),j=Object(p.a)(d,2),b=j[0],u=j[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:"bgImage",children:Object(c.jsxs)("div",{className:"d-flex bg-wrapper flex-column justify-content-center align-items-center",children:[Object(c.jsxs)("h1",{children:[Object(c.jsx)("div",{className:"text-center",children:"WELCOME TO WAKAFOODS"}),Object(c.jsx)("div",{className:"text-center",children:"Your No 1 Online Restaurant"})]}),Object(c.jsx)("h5",{className:"mt-2",children:"Good Food Is Coming Your Way"}),Object(c.jsxs)("div",{className:"mt-5 d-flex flex-row justify-content-center align-items-center",children:[Object(c.jsxs)("div",{className:"mx-4",children:[Object(c.jsx)("div",{className:"text-center muted muted1",children:a?"Opening Time  8:00 Am":""}),Object(c.jsx)("div",{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},className:"icon-wrapper1 d-flex",children:Object(c.jsx)(ne.c,{color:"white",size:"30px"})})]}),Object(c.jsxs)("div",{className:"mx-4",children:[Object(c.jsx)("div",{className:"text-center muted muted2",children:o?"0913333360":""}),Object(c.jsx)("div",{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},className:"icon-wrapper2 d-flex",children:Object(c.jsx)(ne.e,{color:"white",size:"30px"})})]}),Object(c.jsxs)("div",{className:"mx-4",children:[Object(c.jsx)("div",{className:"text-center muted muted3",children:b?"37A pa Michael Imoudu Avenue Gwarinpa":""}),Object(c.jsx)("div",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},className:"icon-wrapper3 d-flex",children:Object(c.jsx)(ne.d,{color:"white",size:"30px"})})]})]})]})}),Object(c.jsx)("div",{className:"order-now",children:Object(c.jsxs)("div",{style:{height:"100%"},className:"container d-flex flex-column flex-lg-row justify-content-lg-between justify-content-around align-items-center",children:[Object(c.jsxs)("div",{className:"text-white",children:[Object(c.jsx)("div",{style:{fontSize:"29px",fontWeight:"bold",lineHeight:"1"},children:"IT'S VALENTINE NOW. ORDER FOR YOUR LOVED ONES FROM ANY CITY IN NIGERIA"}),Object(c.jsx)("div",{className:"mt-1",children:"The first 50 persons to get an added FREE Meal Pack"})]}),Object(c.jsx)("div",{className:"d-lg-none",style:{width:"100%"},children:Object(c.jsx)("a",{style:{backgroundColor:"white",color:"#ff8903",fontWeight:"bold"},href:"#meals",className:"btn btn-lg btn-block",children:"ORDER NOW"})}),Object(c.jsx)("div",{className:"d-lg-block d-none order-lg",children:Object(c.jsx)("a",{style:{backgroundColor:"white",color:"#ff8903",fontWeight:"bold"},href:"#meals",className:"btn btn-lg",children:"ORDER NOW"})})]})})]})}),oe=function(e){return Object(c.jsx)("div",{className:"pt-3",children:e.meals.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("a",{href:"#".concat(e.name).concat(t),className:"cat-name cursor",children:e.name}),Object(c.jsx)("hr",{className:"py-1"})]},t)}))})},ie=function(){return Object(c.jsx)("div",{style:{height:"130px",backgroundColor:"#282C35"},children:Object(c.jsx)("div",{style:{height:"100%"},className:"container d-flex align-items-center justify-content-start",children:Object(c.jsx)("div",{className:"footer",children:"\xa9 2021 WAKA FOODS. ALL RIGHTS RESERVED."})})})},de=function(e){var t=Object(s.useState)({reserved_date:"",reserved_time:"",number_of_seat:2}),a=Object(p.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)(!1),i=Object(p.a)(l,2),d=i[0],b=i[1],u=Object(s.useState)([]),O=Object(p.a)(u,2),m=O[0],h=O[1],f=Object(s.useState)(""),v=Object(p.a)(f,2),g=v[0],y=v[1],N=function(e){r(Object(o.a)(Object(o.a)({},n),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){var t=localStorage.getItem("location"),a=JSON.parse(t);x.a.get("https://server.wakameals.validprofits.xyz/api/avail_pickup/".concat(a.slug,"/list"),{headers:{Authorization:"Bearer ".concat(e.token),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){h(e.data.pickup_locations)}))}),[]),Object(c.jsx)("div",{className:"book p-3",children:Object(c.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),n.number_of_seat<1)e.notifyWarning("Number of seats must be greater than zero");else if(0===g.length)e.notifyWarning("a location must be selected");else{var a=localStorage.getItem("token"),c=JSON.parse(a);b(!0),x.a.post("https://server.wakameals.validprofits.xyz/api/reservation/new",Object(o.a)(Object(o.a)({},n),{},{dispatcher:g}),{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){b(!1),e.notifySuccess("Booked successfully")})).catch((function(t){e.notifyWarning(t.response.data.errors.reserved_date?t.response.data.errors.reserved_date[0]:t.response.data.errors.reserved_time?t.response.data.errors.reserved_time[0]:"an error occured"),b(!1)}))}},children:[Object(c.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(c.jsx)("label",{htmlFor:"reserved_date",children:"Date"}),Object(c.jsx)("input",{className:"form-control",onChange:N,id:"reserved_date",name:"reserved_date",type:"date",required:!0})]}),Object(c.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(c.jsx)("label",{htmlFor:"reserved_time",children:"Time"}),Object(c.jsx)("input",{className:"form-control",onChange:N,id:"reserved_time",name:"reserved_time",type:"time",required:!0})]}),Object(c.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(c.jsx)("label",{htmlFor:"number_of_seat",children:"Number of seat"}),Object(c.jsx)("input",{className:"form-control",onChange:N,id:"number_of_seat",value:n.number_of_seat,name:"number_of_seat",type:"number",required:!0})]}),Object(c.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(c.jsx)("label",{htmlFor:"reserved_location",children:"Select Location"}),Object(c.jsxs)("select",{className:"form-control",onChange:function(e){return y(e.target.value)},required:!0,id:"reserved_location",children:[Object(c.jsx)("option",{value:""}),m.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),d?Object(c.jsx)("div",{className:"spinner-grow text-center mt-4 ml-1",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(c.jsx)("button",{className:"btn mt-4 modal-btn",children:"Submit"})]})})};function je(e){Object(g.b)();var t=Object(g.c)((function(e){return e.done})),a=Object(s.useState)([]),r=Object(p.a)(a,2),l=r[0],d=r[1],b=Object(s.useState)(!0),h=Object(p.a)(b,2),f=h[0],v=h[1],y=Object(s.useState)(!1),N=Object(p.a)(y,2),S=N[0],w=N[1],k=Object(s.useState)(!1),C=Object(p.a)(k,2),E=C[0],z=C[1],I=Object(s.useState)(!1),A=Object(p.a)(I,2),T=A[0],F=A[1],W=Object(s.useState)([""]),L=Object(p.a)(W,2),R=L[0],P=L[1],D=Object(s.useState)(""),J=Object(p.a)(D,2),M=J[0],B=J[1],U=Object(s.useState)([]),Y=Object(p.a)(U,2),q=Y[0],G=(Y[1],Object(s.useState)(1)),V=Object(p.a)(G,2),X=V[0],K=V[1],Z=Object(s.useState)(!1),ee=Object(p.a)(Z,2),te=ee[0],ce=(ee[1],Object(s.useState)([])),je=Object(p.a)(ce,2),be=je[0],ue=je[1],Oe=Object(s.useState)(""),me=Object(p.a)(Oe,2),pe=me[0],he=me[1],xe=Object(s.useState)([]),fe=Object(p.a)(xe,2),ve=fe[0],ge=fe[1],ye=Object(s.useState)(!1),Ne=Object(p.a)(ye,2),Se=Ne[0],we=Ne[1],ke=Object(s.useState)(0),Ce=Object(p.a)(ke,2),_e=Ce[0],Ee=Ce[1],ze=n.a.useState(0),Ie=Object(p.a)(ze,2),Ae=Ie[0],Te=Ie[1],Fe=Object(s.useState)(!1),We=Object(p.a)(Fe,2),Le=We[0],Re=We[1],Pe=Object(s.useState)(!1),De=Object(p.a)(Pe,2),Je=De[0],Me=De[1],Be=Object(s.useState)({}),Ue=Object(p.a)(Be,2),Ye=Ue[0],qe=Ue[1],Ge=function(e,t){Te(t)},He=Object(s.useState)(!1),Ve=Object(p.a)(He,2),Xe=Ve[0],Ke=Ve[1],Qe=function(e){return re.b.success(e)},Ze=function(e){return re.b.warning(e)},$e=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("cart"),JSON.stringify(a),localStorage.setItem("cart",JSON.stringify([].concat(Object(O.a)(ve),[Object(o.a)(Object(o.a)({},t),{},{name:M})]))),ge([].concat(Object(O.a)(ve),[Object(o.a)(Object(o.a)({},t),{},{name:M})])),Qe("Meal added to cart"),Ee(_e+1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){"undefined"===e.location.query&&(Ze("Select Your location"),v(!0),F(!1));var a=localStorage.getItem("location"),c=(JSON.parse(a),localStorage.getItem("token")),s=localStorage.getItem("cart"),n=JSON.parse(s);we(t.done),he(c),void 0===n||null===n?ge([]):(ge(n),Ee(n.length)),x.a.get("https://server.wakameals.validprofits.xyz/api/place/list").then((function(e){d(e.data.places)})),x.a.get("https://server.wakameals.validprofits.xyz/api/meal/list").then((function(e){ue(e.data.data)})),setTimeout((function(){Ke(!0)}),1e4)}),[]),Object(s.useEffect)((function(){if(T){var e=localStorage.getItem("names"),t=JSON.parse(e);if(P(t),B(t[0]),1===t.length){for(var a=1;a<=new Array(t[0]).length;a++)q.push(a);B(q[0])}}}),[T]),Object(c.jsxs)("div",{id:"home-screen",children:[Object(c.jsx)(_,{cartSize:_e,home:!0,setSuccess:F,setOpen:v}),Object(c.jsx)(re.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(c.jsx)(le,{}),!Se&&Object(c.jsxs)("div",{children:[l.length>0&&Xe&&!S&&!E&&f&&Object(c.jsx)(ae,Object(o.a)({setLocation:qe,setIsLuck:Me,setSuccess:F,open:f,openFail:S,setOpenFail:w,openSuccess:E,setOpenSuccess:z,setOpen:v,states:l},e)),S&&!E&&Object(c.jsx)(Q,{notifyWarning:Ze,open:f,openFail:S,setOpenFail:w,openSuccess:E,setOpenSuccess:z,setOpen:v}),!S&&E&&Ye.slug&&Object(c.jsx)($,Object(j.a)({setSuccess:F,setOpen:v,pickupLocation:Ye,isLuck:Je,notifySuccess:Qe,location:te,openFail:S,setOpenFail:w,openSuccess:E,setOpenSuccess:z},"setOpen",v))]}),Object(c.jsx)("div",{id:"meals",children:Object(c.jsxs)("div",{style:{width:"100%"},className:"container",children:[Object(c.jsx)("h4",{className:"py-5 text-center",style:{color:"#ff8903"},children:T?R.length>1?"For ".concat(M):"For Person ".concat(X):""}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:be.length>0?Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-lg-2",children:[Object(c.jsxs)("div",{className:"d-none d-lg-block",children:[Object(c.jsxs)("h6",{children:[Object(c.jsx)(ne.h,{})," Categories"]}),Object(c.jsx)(oe,{meals:be})]}),Object(c.jsxs)("div",{className:"d-lg-none pb-3",children:[Object(c.jsxs)("div",{onClick:function(){return Re(!Le)},style:{width:"100%"},className:"bg-white cursor p-2 d-flex justify-content-around align-items-center",children:[Object(c.jsx)("div",{style:{color:"gray"},children:"Categories"}),Object(c.jsx)("div",{children:Le?Object(c.jsx)(ne.b,{color:"gray"}):Object(c.jsx)(ne.a,{color:"gray"})})]}),Le&&Object(c.jsx)(oe,{meals:be})]})]}),Object(c.jsxs)("div",{className:"col-lg-10",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-start align-items-center pb-3",children:[Object(c.jsxs)("div",{className:"py-3 px-5 cursor",style:{fontWeight:"bold",color:0===Ae?"#ff8903":"gray",backgroundColor:0===Ae?"white":"transparent"},onClick:function(e){return Ge(0,0)},children:[Object(c.jsx)(ne.g,{}),"  Menu"]}),Object(c.jsxs)("div",{className:"py-3 px-5 cursor",style:{fontWeight:"bold",color:1===Ae?"#ff8903":"gray",backgroundColor:1===Ae?"white":"transparent"},onClick:function(e){return Ge(0,1)},children:[Object(c.jsx)(ne.f,{}),"  Book an Engagement"]})]}),0===Ae&&Object(c.jsx)(H,{notifySuccess:Qe,handleAddCart:$e,person:M,meals:be}),1===Ae&&Object(c.jsx)(de,{notifySuccess:Qe,notifyWarning:Ze,token:pe}),Object(c.jsxs)("div",{className:"mt-4 pb-5",children:[R.length>1&&X!==R.length&&Object(c.jsx)("button",{onClick:function(){B(R[X]),K(X+1)},className:"btn btn-style btn-lg",children:"NEXT PERSON"}),1===R.length&&X<q.length&&Object(c.jsx)("button",{onClick:function(){B(q[X]),K(X+1)},className:"btn btn-style btn-lg",children:"NEXT PERSON"})]}),Object(c.jsx)("div",{className:"mb-5",children:0===Ae&&Object(c.jsx)(i.b,{to:"/cart",className:"nav-item",children:Object(c.jsx)("button",{className:"btn",style:{color:"white",backgroundColor:"#ff8903"},children:"CONTINUE TO CART"})})})]})]}):Object(c.jsx)(se,{home:!0})})})]})}),Object(c.jsx)(ie,{})]})}function be(){var e=Object(s.useState)({}),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!0),l=Object(p.a)(r,2),o=l[0],d=l[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakameals.validprofits.xyz/api/profile/details",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){d(!1),n(e.data.details)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),o?Object(c.jsx)(se,{}):Object(c.jsxs)("div",{className:"user-dashboard mt-5",children:[Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("img",{alt:"photo",src:null===a.avatar?"https://t4.ftcdn.net/jpg/03/46/93/61/360_F_346936114_RaxE6OQogebgAWTalE1myseY1Hbb5qPM.jpg":a.avatar,className:"rounded-circle",style:{height:"200px",width:"200px",objectFit:"cover"}}),Object(c.jsxs)("h5",{style:{color:"white",fontWeight:"bold",marginTop:"10px"},children:[a.first_name," ",a.last_name]})]}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(c.jsx)(i.b,{to:"/account/open",children:Object(c.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Open Oders"})})})})}),Object(c.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(c.jsx)(i.b,{to:"/account/close",children:Object(c.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Closed Orders"})})})})}),Object(c.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(c.jsx)(i.b,{to:"/account/password",children:Object(c.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Change Password"})})})})}),Object(c.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(c.jsx)(i.b,{to:"/account/edit",children:Object(c.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Edit Profile"})})})})})]})})]})]})}var ue=a(45),Oe=a.n(ue);function me(){var e=Object(s.useState)(!0),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),l=Object(p.a)(r,2),o=l[0],i=l[1],d=Object(s.useState)({next_url:null,data:[]}),j=Object(p.a)(d,2),b=j[0],u=j[1],m=Object(s.useState)(1),h=Object(p.a)(m,2),f=h[0],v=h[1];Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakameals.validprofits.xyz/api/order/list/open",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:e.data.orders.data}),n(!1)}))}),[]),Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);f>1&&x.a.get(b.next_url,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:[].concat(Object(O.a)(b.data),Object(O.a)(e.data.orders.data))}),i(!1)}))}),[f]);return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),a?Object(c.jsx)(se,{}):Object(c.jsx)("div",{className:"mt-5 container",children:b.data.length>0?Object(c.jsxs)("div",{className:"table-responsive mt-5 bg-white p-2",children:[Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{className:"thead-light",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Order Number"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Delivery Type"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Amount"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Date"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Status"})]})}),Object(c.jsx)("tbody",{children:b.data.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{style:{fontSize:"13px"},children:e.code}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:e.delivery_type}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:Object(c.jsx)(z.a,{children:e.total})}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:Object(c.jsx)(Oe.a,{format:"YYYY/MM/DD",children:e.created_at})}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:Object(c.jsx)("span",{className:"badge ".concat("new"===e.status?"badge-success":"confirmed"===e.status?"badge-primary":"badge-warning"),children:e.status})})]},t)}))})]}),"string"===typeof b.next_url&&Object(c.jsx)("div",{className:"my-5",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:o?Object(c.jsx)("div",{className:"spinner-grow",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(c.jsx)("button",{onClick:function(){i(!0),v(f+1)},className:"cursor btn btn-style",style:{fontWeight:"bold"},children:"SEE MORE"})})]}):Object(c.jsx)("div",{style:{fontWeight:"bold",color:"#ff8903"},className:"text-center",children:"NO ORDER"})})]})}function pe(){var e=Object(s.useState)(!0),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),l=Object(p.a)(r,2),o=l[0],i=l[1],d=Object(s.useState)({next_url:null,data:[]}),j=Object(p.a)(d,2),b=j[0],u=j[1],m=Object(s.useState)(1),h=Object(p.a)(m,2),f=h[0],v=h[1];Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakameals.validprofits.xyz/api/order/list/closed",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:e.data.orders.data}),n(!1)}))}),[]),Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);f>1&&x.a.get(b.next_url,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:[].concat(Object(O.a)(b.data),Object(O.a)(e.data.orders.data))}),i(!1)}))}),[f]);return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),a?Object(c.jsx)(se,{}):Object(c.jsx)("div",{className:"mt-5 container",children:b.data.length>0?Object(c.jsxs)("div",{className:"table-responsive mt-5 bg-white p-2",children:[Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{className:"thead-light",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Order Number"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Delivery Type"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Amount"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Date"}),Object(c.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Status"})]})}),Object(c.jsx)("tbody",{children:b.data.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{style:{fontSize:"13px"},children:e.code}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:e.delivery_type}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:Object(c.jsx)(z.a,{children:e.total})}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:Object(c.jsx)(Oe.a,{format:"YYYY/MM/DD",children:e.created_at})}),Object(c.jsx)("td",{style:{fontSize:"13px"},children:Object(c.jsx)("span",{className:"badge ".concat("completed"===e.status?"badge-success":"cancelled"===e.status?"badge-secondary":"cancelled_failed_payment"===e.status?"badge-warning":"cancelled_system"===e.status?"badge-primary":"cancelled_user"===e.status?"badge-dark":"badge-warning"),children:e.status})})]},t)}))})]}),"string"===typeof b.next_url&&Object(c.jsx)("div",{className:"my-5",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:o?Object(c.jsx)("div",{className:"spinner-grow",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(c.jsx)("button",{onClick:function(){i(!0),v(f+1)},className:"cursor btn btn-style",style:{fontWeight:"bold"},children:"SEE MORE"})})]}):Object(c.jsx)("div",{style:{fontWeight:"bold",color:"#ff8903"},className:"text-center",children:"NO ORDER"})})]})}function he(){var e,t=Object(s.useState)({email:"",first_name:"",last_name:"",title:"",phone:"",avatar:null}),a=Object(p.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)(!0),i=Object(p.a)(l,2),d=i[0],b=i[1],O=Object(s.useState)(!1),h=Object(p.a)(O,2),f=h[0],v=h[1],g=function(e){r(Object(o.a)(Object(o.a)({},n),{},Object(j.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.next=4,localStorage.getItem("token");case 4:return a=e.sent,e.next=7,JSON.parse(a);case 7:return c=e.sent,e.next=10,new FormData;case 10:(s=e.sent).append("email",n.email),s.append("first_name",n.first_name),s.append("last_name",n.last_name),s.append("title",n.title),s.append("phone",n.phone),s.append("avatar",n.avatar),x.a.post("https://server.wakameals.validprofits.xyz/api/profile/update",s,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}}).then((function(){var e;v(!1),e="Profile updated successfully",re.b.success(e)})).catch((function(e){v(!1);var t,a=Object.keys(e.response.data.errors)[0][0];t=a,re.b.error(t)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakameals.validprofits.xyz/api/profile/details",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){b(!1),r(Object(o.a)(Object(o.a)({},n),{},{email:e.data.details.email,first_name:e.data.details.first_name,last_name:e.data.details.last_name,title:e.data.details.title,phone:e.data.details.phone}))}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),Object(c.jsx)(re.a,{position:"top-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),d?Object(c.jsx)(se,{}):Object(c.jsxs)("div",{className:"user-dashboard mt-5 container bg-white p-2",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"first_name",style:{fontSize:"0.7em",fontWeight:"bold"},children:"First Name"}),Object(c.jsx)("input",{onChange:g,value:n.first_name,name:"first_name",id:"first_name",type:"text",className:"form-control"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"last_name",style:{fontSize:"0.7em",fontWeight:"bold"},children:"Last Name"}),Object(c.jsx)("input",{onChange:g,name:"last_name",value:n.last_name,id:"last_name",type:"text",className:"form-control"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{style:{fontSize:"0.7em",fontWeight:"bold"},htmlFor:"title",children:"Title"}),Object(c.jsxs)("select",(e={onChange:g,value:n.title,id:"title",name:"title"},Object(j.a)(e,"onChange",(function(e){return g(e)})),Object(j.a)(e,"className","form-control"),Object(j.a)(e,"id","title"),Object(j.a)(e,"children",[Object(c.jsx)("option",{value:"mr",children:"Mr"}),Object(c.jsx)("option",{value:"mrs",children:"Mrs"}),Object(c.jsx)("option",{value:"miss",children:"Miss"})]),e))]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"number",style:{fontSize:"0.7em",fontWeight:"bold"},children:"Phone Number"}),Object(c.jsx)("input",{onChange:g,value:n.phone,name:"phone",id:"number",type:"number",className:"form-control"})]}),Object(c.jsxs)("div",{className:"custom-file",children:[Object(c.jsx)("input",{accept:"image/*",onChange:function(e){r(Object(o.a)(Object(o.a)({},n),{},{avatar:e.target.files[0]}))},type:"file",className:"custom-file-input",id:"image"}),Object(c.jsx)("label",{className:"custom-file-label",htmlFor:"image",style:{fontSize:"1em",opacity:"0.8"},children:"Choose Profile Avatar"})]}),f?Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(c.jsx)("div",{className:"spinner-border",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsx)("div",{className:"form-group mt-5",children:Object(c.jsx)("button",{type:"submit",onClick:y,className:"btn btn-block",style:{color:"white",backgroundColor:" #ff8903"},children:"UPDATE PROFILE"})})]})]})}var xe=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],l=function(){var t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setCart((function(t){return t.filter((function(t){return t.id!==e.cart.id}))})),e.setCarts((function(t){return t.filter((function(t){return t.id!==e.cart.id}))})),a="Cart item removed",re.b.success(a),e.setPress(e.press+1);case 4:case"end":return t.stop()}var a}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0),"string"===typeof e.token?x.a.post("https://server.wakameals.validprofits.xyz/api/cart/remove",{id:e.cart.id},{headers:{Authorization:"Bearer ".concat(e.token),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){r(!1),l()})).catch((function(){var e;r(!1),e="Something went wrong!",re.b.error(e)})):(l(),r(!1));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsxs)("div",{style:{backgroundColor:"white"},className:"card p-3 mt-4 shadow border-0",children:[Object(c.jsx)(re.a,{position:"top-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3",children:Object(c.jsx)("img",{alt:"photo",style:{width:"100%",height:"120px",objectFit:"contain"},src:e.cart.meal.image})}),Object(c.jsx)("div",{className:"col-lg-3",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"mt-3 mt-lg-0",children:Object(c.jsx)("h6",{children:e.cart.meal.name})}),Object(c.jsxs)("div",{className:"mt-2",style:{color:"gray",fontSize:"13px"},children:["For: ","number"===typeof e.cart.name?"person ".concat(e.cart.name):e.cart.name]})]}),Object(c.jsx)("div",{className:"mt-2 d-none d-lg-block",children:n?Object(c.jsx)("div",{className:"spinner-grow",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(c.jsxs)("div",{onClick:o,style:{color:"#ff8903",fontWeight:"bold",fontSize:"13px"},className:"cursor",children:[Object(c.jsx)(v.b,{style:{color:"#ff8903",fontSize:"20px"}})," REMOVE"]})})]})}),Object(c.jsxs)("div",{className:"col-lg-2 mt-3 mt-lg-0",children:[Object(c.jsx)("div",{style:{fontSize:"12px",color:"#ff8903",fontWeight:"bold"},children:"MEAL PRICE"}),Object(c.jsx)("div",{className:"mt-2",children:Object(c.jsx)(z.a,{children:e.cart.meal.price})})]}),Object(c.jsxs)("div",{className:"col-lg-2 mt-3 mt-lg-0",children:[Object(c.jsx)("div",{style:{fontSize:"12px",color:"#ff8903",fontWeight:"bold"},children:"EXTRAS PRICE"}),Object(c.jsx)("div",{className:"mt-2",children:Object(c.jsx)(z.a,{children:e.cart.sub_total-Number(e.cart.meal.price)})})]}),Object(c.jsxs)("div",{className:"col-lg-2 mt-3 mt-lg-0",children:[Object(c.jsx)("div",{style:{fontSize:"12px",color:"#ff8903",fontWeight:"bold"},children:"TOTAL PRICE"}),Object(c.jsx)("div",{className:"mt-2",children:Object(c.jsx)(z.a,{children:e.cart.sub_total})})]})]}),Object(c.jsx)("div",{className:"mt-2 d-block d-lg-none",children:n?Object(c.jsx)("div",{className:"spinner-grow",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(c.jsxs)("div",{onClick:o,style:{color:"#ff8903",fontWeight:"bold",fontSize:"15px"},className:"cursor",children:[Object(c.jsx)(v.b,{style:{color:"#ff8903",fontSize:"25px"}})," REMOVE"]})})]})},fe=function(e){var t=Object(s.useState)([]),a=Object(p.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)([]),o=Object(p.a)(l,2),d=o[0],j=o[1],b=Object(s.useState)({}),u=Object(p.a)(b,2),O=u[0],m=u[1],h=Object(s.useState)(void 0),f=Object(p.a)(h,2),v=f[0],g=f[1],y=Object(s.useState)(!0),N=Object(p.a)(y,2),S=N[0],w=N[1],k=Object(s.useState)(0),C=Object(p.a)(k,2),E=C[0],I=C[1],A=Object(s.useState)(!1),T=Object(p.a)(A,2),F=T[0],W=T[1];return Object(s.useEffect)((function(){E>0&&(d.length>0?localStorage.setItem("cart",JSON.stringify(d)):localStorage.removeItem("cart"))}),[E]),Object(s.useEffect)((function(){var e=localStorage.getItem("cart"),t=localStorage.getItem("token"),a=localStorage.getItem("location"),c=JSON.parse(a),s=JSON.parse(e),n=JSON.parse(t);g(n),j(s),c&&W(!0),void 0!==s&&("string"===typeof n?x.a.post("https://server.wakameals.validprofits.xyz/api/cart/sync",{items:s},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){r(e.data.cart.items),m(e.data.cart),w(!1)})).catch((function(){w(!1)})):x.a.post("https://server.wakameals.validprofits.xyz/api/cart/sync",{items:s}).then((function(e){r(e.data.cart.items),m(e.data.cart),w(!1)})).catch((function(){w(!1)})))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{cart:!0}),S?Object(c.jsx)(se,{}):Object(c.jsxs)("div",{className:"my-5 container bg-white p-2",children:[Object(c.jsxs)("h1",{style:{fontSize:"26px"},children:["CART (",S?0:n.length,")"]}),Object(c.jsx)("div",{className:"mt-5",children:n.map((function(e,t){return Object(c.jsx)(xe,{setPress:I,press:E,carts:d,setCarts:j,setCart:r,token:v,total:O.total,cart:e},t)}))}),n.length>0&&Object(c.jsxs)("div",{className:"mt-5",style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(c.jsx)("div",{style:{fontWeight:"bold"},children:"TOTAL:"}),Object(c.jsx)("div",{style:{color:"#ff8903",fontSize:"24px",fontWeight:"bold"},className:"ml-5 mr-md-4",children:Object(c.jsx)(z.a,{children:O.total})})]}),Object(c.jsx)("div",{className:"mt-5 shadow",children:Object(c.jsxs)("div",{className:"p-4",style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(c.jsx)(i.b,{to:"/",children:Object(c.jsx)("button",{style:{color:"#ff8903",backgroundColor:"white",border:"none"},className:"btn shadow px-3 py-2",children:"CONTINUE SHOPPING"})}),n.length>0&&Object(c.jsx)(i.b,{to:{pathname:"".concat(F?"/checkout":"/"),query:{price:O.total,location:!0}},children:Object(c.jsx)("button",{style:{color:"white",backgroundColor:"#ff8903",border:"none"},className:"btn ml-4 shadow px-3 py-2",children:"GO TO CHECKOUT"})})]})})]})]})};function ve(e){var t=Object(g.b)(),a=Object(g.c)((function(e){return e.userSignin})),n=a.loading,r=a.error,l=Object(s.useState)({identifier:"",password:""}),d=Object(p.a)(l,2),b=d[0],O=d[1],h=b.identifier,f=b.password,v=function(e){O(Object(o.a)(Object(o.a)({},b),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),Object(c.jsx)("div",{className:"login container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"90vh"},children:Object(c.jsx)("div",{className:"card border-0 shadow login-form",style:{backgroundColor:"#ff8903"},children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("from",{children:Object(c.jsxs)("div",{className:"from-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:ge.label,htmlFor:"inputCity",children:"Email"}),Object(c.jsx)("input",{value:h,name:"identifier",onChange:function(e){return v(e)},type:"email",placeholder:"Enter Email",className:"form-control"}),r&&Object(c.jsx)("p",{style:ge.formError,children:r.errors&&r.errors.identifier}),r&&Object(c.jsx)("p",{style:ge.formError,children:r.errors&&r.errors.email}),r&&Object(c.jsx)("p",{style:ge.formError,children:r.errors&&r.errors.phone}),r&&Object(c.jsx)("p",{style:ge.formError,children:r.errors&&r.errors.username})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:ge.label,htmlFor:"inputCity",children:"Password"}),Object(c.jsx)("input",{value:f,name:"password",onChange:function(e){return v(e)},type:"password",placeholder:"Enter Password",className:"form-control"}),r&&Object(c.jsx)("p",{style:ge.formError,children:r.errors&&r.errors.password})]}),n?Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(c.jsx)("div",{className:"spinner-border",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsx)("div",{className:"form-group col-md-12",children:Object(c.jsx)("button",{type:"submit",onClick:function(a){a.preventDefault(),t(function(e,t){return function(){var a=Object(m.a)(u.a.mark((function a(c){var s,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:y,payload:{identifier:e,password:t}}),a.prev=1,a.next=4,x.a.post("https://server.wakameals.validprofits.xyz/api/auth/login/default",{identifier:e,password:t});case 4:s=a.sent,(n=s.data).token?(c({type:N,payload:n}),localStorage.setItem("token",JSON.stringify(n.token))):c({type:S,payload:n.errors}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),c({type:S,payload:a.t0.response?a.t0.response.data:"something went wrong"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(h,f)).then((function(){})).then((function(){"string"===typeof localStorage.getItem("token")&&e.history.push("/account")}))},className:"btn  btn-block",style:{color:"white",backgroundColor:"black"},children:"SIGN IN"})}),Object(c.jsx)(i.b,{to:"/signup",className:"form-group col-md-12",children:Object(c.jsx)("p",{className:"btn",style:{color:"#023a9c",fontWeight:"bold"},children:"Not Registered?"})})]})})})})})]})}var ge={label:{fontSize:"0.9em",fontWeight:"bold",color:"black"},formError:{fontSize:"0.7em",color:"red",marginTop:"10px",fontWeight:"bold"}};function ye(e){var t,a=Object(g.b)(),n=Object(g.c)((function(e){return e.userSignin})),r=n.loading,l=n.error,d=Object(s.useState)({email:"",password:"",first_name:"",last_name:"",title:"",phone:""}),b=Object(p.a)(d,2),O=b[0],h=b[1],f=O.email,v=O.password,w=O.first_name,k=O.last_name,C=O.title,E=O.phone,z=function(e){h(Object(o.a)(Object(o.a)({},O),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),Object(c.jsx)("div",{className:"login container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",paddingTop:"50px",paddingBottom:"50px"},children:Object(c.jsx)("div",{className:"card border-0 shadow login-form",style:{backgroundColor:"#ff8903"},children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("from",{children:Object(c.jsxs)("div",{className:"from-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ne.label,htmlFor:"first_name",children:"First Name"}),Object(c.jsx)("input",{id:"first_name",value:w,name:"first_name",onChange:function(e){return z(e)},type:"text",className:"form-control"}),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.first_name})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ne.label,htmlFor:"last_name",children:"Last Name"}),Object(c.jsx)("input",{id:"last_name",value:k,name:"last_name",onChange:function(e){return z(e)},type:"text",className:"form-control"}),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.last_name})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ne.label,htmlFor:"title",children:"Title"}),Object(c.jsxs)("select",(t={value:C,id:"title",name:"title",onChange:function(e){return z(e)},className:"form-control"},Object(j.a)(t,"id","title"),Object(j.a)(t,"children",[Object(c.jsx)("option",{value:"Mr",children:"Mr"}),Object(c.jsx)("option",{value:"Ms",children:"Ms"})]),t)),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.title})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ne.label,htmlFor:"number",children:"Phone Number"}),Object(c.jsx)("input",{id:"number",value:E,name:"phone",onChange:function(e){return z(e)},type:"number",className:"form-control"}),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.phone})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ne.label,htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{id:"email",value:f,name:"email",onChange:function(e){return z(e)},type:"email",placeholder:"Enter Email",className:"form-control"}),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.identifier}),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.email}),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.username})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ne.label,htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{id:"password",value:v,name:"password",onChange:function(e){return z(e)},type:"password",placeholder:"Enter Password",className:"form-control"}),l&&Object(c.jsx)("p",{style:Ne.formError,children:l.errors&&l.errors.password})]}),r?Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(c.jsx)("div",{className:"spinner-border",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsx)("div",{className:"form-group col-md-12",children:Object(c.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),a(function(e){return function(){var t=Object(m.a)(u.a.mark((function t(a){var c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:y,payload:e}),t.prev=1,t.next=4,x.a.post("https://server.wakameals.validprofits.xyz/api/auth/register/default",e);case 4:c=t.sent,(s=c.data).token?(a({type:N,payload:s}),localStorage.setItem("token",JSON.stringify(s.token))):a({type:S,payload:s.errors}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:S,payload:t.t0.response?t.t0.response.data:"something went wrong"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(O)).then((function(){})).then((function(){"string"===typeof localStorage.getItem("token")&&e.history.push("/account")}))},className:"btn  btn-block",style:{color:"white",backgroundColor:"black"},children:"SIGN UP"})}),Object(c.jsx)("div",{className:"form-group col-md-12",children:Object(c.jsx)(i.b,{to:"/signin",className:"btn",style:{color:"#023a9c",fontWeight:"bold"},children:"Already a User? Login"})})]})})})})})]})}var Ne={label:{fontSize:"0.9em",fontWeight:"bold",color:"black"},formError:{fontSize:"0.7em",color:"red",marginTop:"10px",fontWeight:"bold"}},Se=a(38),we=a(90),ke={userSignin:{user:localStorage.getItem("token")||null},done:{done:!1}},Ce=Object(Se.c)({userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case N:return{loading:!1,user:t.payload};case S:return{loading:!1,error:t.payload};case w:return{user:{}};default:return e}},done:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{done:!0};case C:return{done:!1};default:return e}}}),_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.d,Ee=Object(Se.e)(Ce,ke,_e(Object(Se.a)(we.a)));function ze(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],l=Object(s.useState)(!1),i=Object(p.a)(l,2),d=(i[0],i[1],Object(s.useState)({current_password:"",new_password:"",retype_new_password:""})),b=Object(p.a)(d,2),u=b[0],O=b[1],m=function(e){O(Object(o.a)(Object(o.a)({},u),{},Object(j.a)({},e.target.name,e.target.value)))},h=function(e){return re.b.error(e)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),Object(c.jsx)(re.a,{position:"top-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(c.jsx)("div",{className:"login container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"90vh"},children:Object(c.jsx)("div",{className:"card border-0 shadow ",style:{backgroundColor:"#ff8903",width:"60%"},children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("from",{children:Object(c.jsxs)("div",{className:"from-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ie.label,htmlFor:"current_password",children:"Current Password"}),Object(c.jsx)("input",{id:"current_password",value:u.current_password,name:"current_password",onChange:function(e){return m(e)},type:"password",className:"form-control"})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ie.label,htmlFor:"new_password",children:"New Password"}),Object(c.jsx)("input",{id:"new_password",value:u.new_password,name:"new_password",onChange:function(e){return m(e)},type:"password",className:"form-control"})]}),Object(c.jsxs)("div",{className:"form-group col-md-12",children:[Object(c.jsx)("label",{style:Ie.label,htmlFor:"retype_new_password",children:"Confirm New Password"}),Object(c.jsx)("input",{id:"retype_new_password",value:u.retype_new_password,name:"retype_new_password",onChange:function(e){return m(e)},type:"password",className:"form-control"})]}),n?Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(c.jsx)("div",{className:"spinner-border",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsx)("div",{className:"form-group col-md-12",children:Object(c.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),r(!0),u.new_password===u.retype_new_password){var t=localStorage.getItem("token"),a=JSON.parse(t);x.a.post("https://server.wakameals.validprofits.xyz/api/profile/password/update",u,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"}}).then((function(){var e;r(!1),e="Password updated successfully",re.b.success(e)})).catch((function(e){r(!1),h(e.response.data.errors.current_password[0])}))}else r(!1),h("Passwords do not match")},className:"btn  btn-block",style:{color:"white",backgroundColor:"black"},children:"CHANGE PASSWORD"})})]})})})})})]})}var Ie={label:{fontSize:"0.9em",fontWeight:"bold",color:"black"},formError:{fontSize:"0.7em",color:"red",marginTop:"10px",fontWeight:"bold"}},Ae=a(91);Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};new Date;var Te=function(e){var t=Object(d.f)(),a=Object(s.useState)([]),n=Object(p.a)(a,2),r=(n[0],n[1]),l=Object(s.useState)(!1),i=Object(p.a)(l,2),j=(i[0],i[1],Object(s.useState)(!1)),b=Object(p.a)(j,2),u=b[0],O=b[1],m=Object(s.useState)(!1),h=Object(p.a)(m,2),f=(h[0],h[1],Object(s.useState)({status:!1,date:null})),g=Object(p.a)(f,2),y=(g[0],g[1],Object(s.useState)({status:!1,date:null})),N=Object(p.a)(y,2),S=(N[0],N[1],Object(s.useState)({status:!1,date:null})),w=Object(p.a)(S,2),k=(w[0],w[1],Object(s.useState)({status:!1,date:null})),C=Object(p.a)(k,2),E=(C[0],C[1],Object(s.useState)({status:!1,date:null})),z=Object(p.a)(E,2),I=(z[0],z[1],Object(s.useState)({status:!1,date:null})),T=Object(p.a)(I,2),R=(T[0],T[1],Object(s.useState)({status:!1,date:null})),P=Object(p.a)(R,2),D=(P[0],P[1],Object(s.useState)(null)),J=Object(p.a)(D,2),M=(J[0],J[1],Object(s.useState)(null)),U=Object(p.a)(M,2),Y=(U[0],U[1],Object(s.useState)({reference:Object(B.a)(),email:"",amount:"",metadata:{customer:"",email:"",order_codes:[]},publicKey:"pk_test_56a49c6ffaa3261f532935c213cb8bb2c714cb9b"})),q=Object(p.a)(Y,2),G=q[0],H=q[1],V=Object(s.useState)({first_name:"",last_name:"",title:"",phone:""}),X=Object(p.a)(V,2),K=X[0],Q=X[1],Z=Object(s.useState)(""),$=Object(p.a)(Z,2),ee=$[0],te=$[1],ae=Object(s.useState)({location:"",code:"",place:""}),ce=Object(p.a)(ae,2),ne=ce[0],le=ce[1],oe=Object(s.useState)(""),ie=Object(p.a)(oe,2),de=ie[0],je=ie[1],be=Object(s.useState)([]),ue=Object(p.a)(be,2),Oe=(ue[0],ue[1]),me=Object(s.useState)(!0),pe=Object(p.a)(me,2),he=pe[0],xe=pe[1],fe=Object(s.useState)("door_delivery"),ve=Object(p.a)(fe,2),ge=ve[0],ye=ve[1],Ne=Object(s.useState)(!1),Se=Object(p.a)(Ne,2),we=Se[0],ke=Se[1],Ce=function(e){return re.b.error(e)},_e=function(e){var a=localStorage.getItem("token"),c=JSON.parse(a);localStorage.removeItem("cart"),O(!1),xe(!0),x.a.get("https://server.wakameals.validprofits.xyz/api/order/verify_payment?trxref=".concat(G.reference),{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}}).then((function(){var e;xe(!1),e="Order completed and payment successful",re.b.success(e),O(!1),t.push("/")}))},Ee=function(){x.a.get("https://server.wakameals.validprofits.xyz/api/order/verify_payment?trxref=".concat(G.reference)).then((function(){Ce("Could not complete payment"),O(!1),t.push("/account/open"),H(Object(o.a)(Object(o.a)({},G),{},{reference:Object(B.a)()}))}))};Object(s.useEffect)((function(){if("undefined"!==typeof e.location.query){var a=localStorage.getItem("token"),c=JSON.parse(a),s=localStorage.getItem("cart"),n=JSON.parse(s),r=localStorage.getItem("door_delivery"),l=JSON.parse(r),i=localStorage.getItem("pickup"),d=JSON.parse(i),j=localStorage.getItem("deliveryOption"),b=JSON.parse(j),u=localStorage.getItem("place"),O=JSON.parse(u);je(O),"door_delivery"===b&&te(l),"pickup"===b&&le(d),ye(b),Oe(n),x.a.get("https://server.wakameals.validprofits.xyz/api/profile/details",{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){xe(!1),H(Object(o.a)(Object(o.a)({},G),{},{email:e.data.details.email,metadata:Object(o.a)(Object(o.a)({},G.metadata),{},{email:e.data.details.email,customer:"".concat(e.data.details.first_name," ").concat(e.data.details.last_name)})})),Q({first_name:e.data.details.first_name,last_name:e.data.details.last_name,title:e.data.details.title,phone:e.data.details.phone})}))}else t.push("/cart")}),[]);var ze=Object(Ae.a)(G);return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{cart:!0}),Object(c.jsx)(re.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),he?Object(c.jsx)(se,{}):Object(c.jsx)("div",{className:"my-5 container checkout-container",children:Object(c.jsxs)("div",{style:{height:"100%"},className:"row d-flex justify-content-center align-items-center",children:[Object(c.jsx)("div",{className:"col-lg-8 checkout p-2 shadow px-2 py-4",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h5",{children:"Delivery Summary"}),Object(c.jsx)("hr",{className:"mt-3"}),Object(c.jsxs)("div",{className:"mt-2 row",children:[Object(c.jsx)("div",{className:"col-lg-1"}),Object(c.jsx)("div",{style:{border:"1px solid gray",backgroundColor:"door_delivery"===ge?"#ffeee3":"white"},className:"col-lg-5 cursor mr-lg-1",children:Object(c.jsxs)("div",{className:"p-2",children:[Object(c.jsx)("h5",{style:{color:"#ff8903"},children:"Deliver to me"}),Object(c.jsx)("hr",{className:"mt-2"}),Object(c.jsxs)("div",{className:"mt-2",children:[Object(c.jsxs)("div",{style:{fontSize:"15px"},children:[Object(c.jsx)(v.d,{style:{color:"#ff8903",fontSize:"17px"}}),"   ".concat(K.title," ").concat(K.first_name," ").concat(K.last_name)]}),Object(c.jsxs)("div",{className:"mt-2",style:{fontSize:"15px"},children:[Object(c.jsx)(v.e,{style:{color:"#ff8903",fontSize:"17px"}}),"   ".concat(K.phone)]}),ee.length>0&&Object(c.jsx)("div",{className:"my-3",children:Object(c.jsx)("input",{name:"address",value:ee,disabled:!0,type:"text",className:"form-control"})})]})]})}),Object(c.jsx)("div",{style:{border:"1px solid gray",backgroundColor:"pickup"===ge?"#ffeee3":"white"},className:"col-lg-5 cursor ml-lg-1 mt-3 mt-lg-0",children:Object(c.jsxs)("div",{className:"p-1",children:[Object(c.jsx)("h6",{style:{color:"#ff8903"},children:"Selected Pickup Location"}),Object(c.jsx)("hr",{className:"mt-2"}),Object(c.jsx)("div",{className:"mt-2",children:Object(c.jsxs)("div",{style:{fontSize:"15px"},children:[Object(c.jsx)(v.c,{style:{color:"#ff8903",fontSize:"17px"}}),"   ".concat(ne.location)]})})]})}),Object(c.jsx)("div",{className:"col-lg-1"})]})]})}),Object(c.jsx)("div",{className:"col-lg-1"}),Object(c.jsx)("div",{className:"col-lg-3 mt-3 mt-lg-0 p-2",children:Object(c.jsx)("div",{children:we?Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(c.jsx)("div",{className:"spinner-grow",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsx)("div",{className:"mt-3",children:Object(c.jsx)("button",{onClick:function(){ke(!0);var e=localStorage.getItem("token"),t=JSON.parse(e),a=localStorage.getItem("cart"),c=JSON.parse(a);x.a.post("https://server.wakameals.validprofits.xyz/api/order/new",{delivery_type:ge,pickup_code:ne.code,place:de,address:ee,meals:c},{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){r(e.data.order_codes),H(Object(o.a)(Object(o.a)({},G),{},{amount:100*e.data.order_total,metadata:Object(o.a)(Object(o.a)({},G.metadata),{},{order_codes:e.data.order_codes})})),setTimeout((function(){ke(!1),O(!0)}),2e3)})).catch((function(){ke(!1),Ce("An error occured.... Try again")}))},className:"btn btn-lg btn-block",style:{backgroundColor:"#ff8903",border:"none",color:"white",fontWeight:"bold",fontSize:"19px"},children:"CONTINUE TO ORDER"})})})})]})}),Object(c.jsxs)(A.a,{fullWidth:!0,open:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-cart",children:[Object(c.jsx)(L.a,{id:"alert-dialog-title"}),Object(c.jsx)(F.a,{children:Object(c.jsx)(W.a,{id:"alert-dialog-cart",children:Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"mt-3",children:Object(c.jsx)("button",{className:"btn btn-lg btn-block",style:{backgroundColor:"#ff8903",border:"none",color:"white",fontWeight:"bold"},onClick:function(){ze(_e,Ee)},children:"CONTINUE TO PAYMENT"})})})})]})]})},Fe=a(92),We=a(93),Le=a(95),Re=a(94);function Pe(e){return function(t){Object(Le.a)(s,t);var a=Object(Re.a)(s);function s(){return Object(Fe.a)(this,s),a.apply(this,arguments)}return Object(We.a)(s,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");if("string"!==typeof JSON.parse(e))return this.props.history.push("/signin")}},{key:"componentDidUpdate",value:function(e){var t=localStorage.getItem("token");if("string"!==typeof JSON.parse(t))return this.props.history.push("/signin")}},{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(e,Object(o.a)({},this.props))})}}]),s}(s.Component)}var De=function(e){return Object(c.jsx)(g.a,{store:Ee,children:Object(c.jsx)(i.a,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{exact:!0,path:"/",render:function(e){return Object(c.jsx)(je,Object(o.a)({},e))}}),Object(c.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{exact:!0,path:"/checkout",component:Pe(Te)})),Object(c.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{exact:!0,path:"/account",component:Pe(be)})),Object(c.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{exact:!0,path:"/account/edit",component:Pe(he)})),Object(c.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{exact:!0,path:"/account/open",component:Pe(me)})),Object(c.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{exact:!0,path:"/account/close",component:Pe(pe)})),Object(c.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{exact:!0,path:"/account/password",component:Pe(ze)})),Object(c.jsx)(d.a,{exact:!0,path:"/cart",render:function(e){return Object(c.jsx)(fe,Object(o.a)({},e))}}),Object(c.jsx)(d.a,{exact:!0,path:"/signin",render:function(e){return Object(c.jsx)(ve,Object(o.a)({},e))}}),Object(c.jsx)(d.a,{exact:!0,path:"/signup",render:function(e){return Object(c.jsx)(ye,Object(o.a)({},e))}})]})})})})},Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,187)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};l.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(De,{})}),document.getElementById("root")),Je()}},[[159,1,2]]]);
//# sourceMappingURL=main.43ee9a91.chunk.js.map