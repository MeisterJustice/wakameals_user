(this["webpackJsonpwaka-meals-user"]=this["webpackJsonpwaka-meals-user"]||[]).push([[0],{108:function(e,t,c){},110:function(e,t,c){},159:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(2),n=c.n(s),r=c(12),o=c.n(r),l=(c(108),c(5)),i=(c(109),c(110),c(11)),d=c(15),j=c(16),b=c(10),u=c.n(b),m=c(26),O=c(20),h=c(4),p=c(8),x=c.n(p),f=c(87),v=c(31),g=c(22),y="USER_SIGNIN_REQUEST",N="USER_SIGNIN_SUCCESS",S="USER_SIGNIN_FAIL",w="USER_LOGOUT",k="DONE",_="REFRESH";function C(e){var t=Object(s.useState)(null),c=Object(h.a)(t,2),n=c[0],r=c[1],o=Object(s.useState)(0),l=Object(h.a)(o,2),j=l[0],b=l[1],u=Object(g.b)(),m=Object(d.f)();Object(s.useEffect)((function(){e.cartSize&&b(e.cartSize)}),[e.cartSize]),Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=localStorage.getItem("cart"),c=JSON.parse(t);r(e),void 0!==c&&null!==c&&b(c.length)}),[]);return Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg py-2",children:[Object(a.jsxs)(i.b,{to:"/",className:"navbar-brand",children:[" ",Object(a.jsx)("img",{style:{borderRadius:"4px"},alt:"logo",src:"/logo.jpg"})]}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)(f.a,{style:{color:"white",fontSize:"30px"}})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:["string"===typeof n&&Object(a.jsx)(i.b,{to:"/account",className:"nav-item",children:Object(a.jsx)("a",{className:"nav-link text-white",children:"My Account"})}),"string"===typeof n&&Object(a.jsx)("div",{onClick:function(){localStorage.removeItem("token"),u({type:w}),r(null),m.push("/signin")},className:"nav-item cursor",children:Object(a.jsx)("div",{className:"nav-link text-white",children:"Log Out"})}),"string"!==typeof n&&Object(a.jsx)(i.b,{to:"/signin",className:"nav-item",children:Object(a.jsx)("div",{className:"nav-link text-white",children:"Sign In"})}),"string"!==typeof n&&Object(a.jsx)(i.b,{to:"/signup",className:"nav-item",children:Object(a.jsx)("div",{className:"nav-link text-white",children:"Sign Up"})})]}),Object(a.jsxs)("ul",{className:"navbar-nav ml-auto",children:[e.setOpen&&e.home&&Object(a.jsx)("div",{className:"nav-item cursor",children:Object(a.jsxs)("div",{onClick:function(){u({type:_}),e.setOpen(!0),e.setSuccess(!1)},className:"nav-link text-white",children:[Object(a.jsx)(v.a,{style:{color:"#ff8903",fontSize:"1.5em"}})," change location"]})}),!e.cart&&Object(a.jsx)(i.b,{to:"/cart",className:"nav-item",children:Object(a.jsxs)("a",{className:"nav-link text-white",children:[Object(a.jsx)(v.f,{style:{color:"#ff8903",fontSize:"1.5em"}})," ",j," items"]})})]})]})]})})}var E=c(19),I=c.n(E),z=c(184),A=c(183),F=c(182),T=c(180),W=c(181),L=c(179),P=c(51),D=c.n(P);function R(e){var t=e.meal,c=e.open,s=e.handleClose;return Object(a.jsxs)(A.a,{open:c,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(L.a,{id:"alert-dialog-title",children:t.name}),Object(a.jsx)(T.a,{children:Object(a.jsxs)(W.a,{id:"alert-dialog-description",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:"photo",style:{height:"200px",width:"100%"},src:t.image})}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("div",{className:"d-flex flex-row-reverse",children:Object(a.jsx)("p",{style:{color:"black",fontSize:"0.8em",fontWeight:"bold"},children:Object(a.jsx)(I.a,{children:t.price})})}),Object(a.jsx)("h5",{style:{color:"black"},children:"Description "}),Object(a.jsx)("p",{style:{color:"black",fontSize:"0.7em"},children:D()(t.description)})]})})]})}),Object(a.jsx)(F.a,{children:Object(a.jsx)(z.a,{onClick:s,style:{color:"#ff8903"},children:"CLOSE"})})]})}var J=c(54),M=function(e){var t=e.extra,c=e.setCartData,n=e.cartData,r=Object(s.useState)(0),o=Object(h.a)(r,2),i=o[0],d=o[1],j=Object(s.useState)(1),b=Object(h.a)(j,2),p=b[0],x=b[1],f=function(){var e=Object(O.a)(u.a.mark((function e(){var a,s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t.price*(Number(p-1)+1));case 2:return e.next=4,x(p+1);case 4:return e.next=6,n.meal_extras.filter((function(e){return e.id===t.id}));case 6:return a=e.sent,e.next=9,a.length;case 9:if(e.t0=e.sent,e.t0>0){e.next=16;break}return e.next=14,c(Object(l.a)(Object(l.a)({},n),{},{meal_extras:[].concat(Object(m.a)(n.meal_extras),[{id:t.id,quantity:Number(p-1)+1}])}));case 14:e.next=30;break;case 16:return e.next=18,n.meal_extras.findIndex((function(e){return e.id===t.id}));case 18:return s=e.sent,r=Object(m.a)(n.meal_extras),o=Object(l.a)({},r[s]),e.next=23,Number(p-1);case 23:return e.t1=e.sent,o.quantity=e.t1+1,e.next=27,o;case 27:return r[s]=e.sent,e.next=30,c(Object(l.a)(Object(l.a)({},n),{},{meal_extras:r}));case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(O.a)(u.a.mark((function e(){var a,s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p-1<1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d(i-t.price);case 4:return e.next=6,x(p-1);case 6:return e.next=8,n.meal_extras.filter((function(e){return e.id===t.id}));case 8:return a=e.sent,e.next=11,a.length;case 11:if(e.t0=e.sent,e.t0>0){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,n.meal_extras.findIndex((function(e){return e.id===t.id}));case 19:return s=e.sent,r=Object(m.a)(n.meal_extras),o=Object(l.a)({},r[s]),e.next=24,Number(p);case 24:return e.t1=e.sent,o.quantity=e.t1-1,e.next=28,o;case 28:return r[s]=e.sent,e.next=31,c(Object(l.a)(Object(l.a)({},n),{},{meal_extras:r}));case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-5",children:[Object(a.jsx)("p",{style:{opacity:.9,color:"black",fontWeight:"600",fontSize:"0.9em",display:"inline"},children:t.name}),Object(a.jsxs)("p",{style:{opacity:.9,color:"black",fontSize:"0.7em",display:"inline",fontWeight:"500"},className:"ml-2",children:[Object(a.jsx)(I.a,{children:t.price}),"/",t.measurement_quantity,t.measurement_type]})]}),Object(a.jsx)("div",{className:"col-3",children:Object(a.jsx)("p",{style:{color:"black",fontSize:"1em",display:"inline",fontWeight:"500"},children:Object(a.jsx)(I.a,{children:i})})}),Object(a.jsxs)("div",{className:"btn-group btn-group-sm col-4",role:"group","aria-label":"...",children:[Object(a.jsx)("button",{onClick:v,type:"button",className:"btn btn-style",children:Object(a.jsx)(J.a,{})}),Object(a.jsx)("div",{className:"btn btn-style",children:p-1}),Object(a.jsx)("button",{onClick:f,type:"button",className:"btn btn-style",children:Object(a.jsx)(J.b,{})})]})]}),Object(a.jsx)("hr",{className:"mt-3"})]})},B=c(185);function q(e){var t=e.meal,c=e.person,n=e.handleAddCart,r=e.open,o=e.handleClose,i=Object(s.useState)(Number(t.price)),d=Object(h.a)(i,2),j=d[0],b=d[1],m=Object(s.useState)({id:"",meal_id:"",special_instruction:"",meal_extras:[]}),p=Object(h.a)(m,2),x=p[0],f=p[1],v=function(){var e=Object(O.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(l.a)(Object(l.a)({},x),{},{meal_id:t.id,id:Object(B.a)()})),f({id:"",meal_id:"",special_instruction:"",meal_extras:[]}),o();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)(A.a,{fullWidth:!0,open:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-cart",children:[Object(a.jsx)(L.a,{id:"alert-dialog-title",children:Object(a.jsx)("h5",{style:{color:"#ff8903"},className:"modal-title",id:"exampleModalCenterTitle",children:Object(a.jsx)(I.a,{children:j})})}),Object(a.jsx)(T.a,{children:Object(a.jsx)(W.a,{id:"alert-dialog-cart",children:Object(a.jsxs)("div",{className:"pr-3",children:[t.extra_items.map((function(e,s){return Object(a.jsx)(M,{price:j,setPrice:b,meal:t,cartData:x,person:c,setCartData:f,extra:e},s)})),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("label",{htmlFor:"additional-request",style:{color:"black"},children:"Additional Request"}),Object(a.jsx)("input",{onChange:function(e){return f(Object(l.a)(Object(l.a)({},x),{},{special_instruction:e.target.value}))},type:"text",className:"form-control",id:"additional-request",placeholder:"I am allergic to garlic"})]}),Object(a.jsx)("div",{onClick:v,className:"mt-3",children:Object(a.jsx)("button",{"data-dismiss":"modal","aria-label":"Close",className:"btn btn-md btn-block",style:{backgroundColor:"#ff8903",color:"white"},children:"ADD TO CART"})})]})})}),Object(a.jsx)(F.a,{children:Object(a.jsx)(z.a,{onClick:o,style:{color:"#black",fontWeight:"550"},children:"CLOSE"})})]})})}var U=function(e){var t=Object(s.useState)(!1),c=Object(h.a)(t,2),n=c[0],r=c[1],o=Object(s.useState)(!1),l=Object(h.a)(o,2),i=l[0],d=l[1];return Object(a.jsxs)("div",{className:"bg-white mt-4",children:[Object(a.jsx)("div",{className:"mt-4",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-7 col-md-8",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-3",children:Object(a.jsx)("img",{alt:"photo",style:{width:"90px",height:"90px"},src:e.meal.image})}),Object(a.jsxs)("div",{style:{width:"100%"},className:"col-lg-9",children:[Object(a.jsx)("div",{style:{fontSize:"17px"},className:"food-desc",children:e.meal.name}),Object(a.jsx)("div",{className:"food-desc mute mt-1",children:D()(e.meal.description)})]})]})}),Object(a.jsxs)("div",{className:"col-5 col-md-4",children:[Object(a.jsx)("div",{children:Object(a.jsx)("p",{className:"food-list-item-1",style:{fontSize:"1.2em"},children:Object(a.jsx)(I.a,{children:e.meal.price})})}),Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsx)("button",{onClick:function(){d(!0)},style:{backgroundColor:"#FF8903",color:"white"},className:"btn btn-sm",children:"Add To Cart"})})]})]})}),Object(a.jsx)("hr",{className:"py-2"}),Object(a.jsx)(R,{handleClose:function(){r(!1)},open:n,meal:e.meal}),Object(a.jsx)(q,{handleClose:function(){d(!1)},open:i,notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart,person:e.person,meal:e.meal})]})},Y=function(e){return Object(a.jsx)("div",{children:e.data.meals.map((function(t,c){return Object(s.createElement)(U,Object(l.a)(Object(l.a)({index:c,notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart},e),{},{key:c,meal:t}))}))})},H=function(e){return Object(a.jsxs)("div",{id:"".concat(e.data.name).concat(e.index),className:"mt-3 mx-lg-5",children:[Object(a.jsx)("h6",{className:"cat-title",children:e.data.name}),e.data.subcategories.map((function(t,c){return Object(a.jsx)("div",{children:Object(a.jsx)(Y,Object(l.a)(Object(l.a)({notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart},e),{},{data:t}))},c)}))]})};function G(e){return Object(a.jsx)("div",{className:"bg-white p-3",children:e.meals.map((function(t,c){return Object(s.createElement)(H,Object(l.a)(Object(l.a)({notifySuccess:e.notifySuccess,handleAddCart:e.handleAddCart},e),{},{key:c,data:t,index:c}))}))})}var K=c(39),V=c.n(K),X={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#ff8903"}},Q=function(e){return Object(a.jsxs)(V.a,{isOpen:e.openFail,onRequestClose:function(){return null},style:X,contentLabel:"Fail",children:[Object(a.jsx)("div",{className:"py-5 white",children:"Sorry, we are not available at your location yet. Please click the button below to drop a message"}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){e.setOpenSuccess(!1),e.setOpenFail(!1),e.setOpen(!1)},className:"btn btn-sm modal-btn",children:"Send Message"})})]})},Z={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#ff8903"}},$=function(e){var t=Object(g.b)(),c=Object(s.useState)(1),n=Object(h.a)(c,2),r=n[0],o=n[1],i=Object(s.useState)(1),d=Object(h.a)(i,2),b=d[0],u=d[1],m=Object(s.useState)({}),O=Object(h.a)(m,2),p=O[0],f=O[1],v=Object(s.useState)([]),y=Object(h.a)(v,2),N=y[0],S=(y[1],Object(s.useState)(!1)),w=Object(h.a)(S,2),_=w[0],C=w[1],E=Object(s.useState)(""),I=Object(h.a)(E,2),z=I[0],A=I[1],F=Object(s.useState)({data:[],location:"",code:"",place:""}),T=Object(h.a)(F,2),W=T[0],L=T[1],P=Object(s.useState)(""),D=Object(h.a)(P,2),R=D[0],J=D[1],M=Object(s.useState)(!1),B=Object(h.a)(M,2),q=B[0],U=B[1],Y=Object(s.useState)(""),H=Object(h.a)(Y,2),G=H[0],K=H[1],X=Object(s.useState)(!0),Q=Object(h.a)(X,2),$=Q[0],ee=Q[1],te=Object(s.useState)(!0),ce=Object(h.a)(te,2),ae=ce[0],se=ce[1];Object(s.useEffect)((function(){x.a.get("https://server.wakafoods.com/api/avail_pickup/".concat(e.pickupLocation.slug,"/list")).then((function(e){L(Object(l.a)(Object(l.a)({},W),{},{data:e.data.pickup_locations}))})),ee(e.pickupLocation.delivery_available),se(e.pickupLocation.pickup_available)}),[]);var ne=function(){e.setOpenSuccess(!1),e.setOpenFail(!1),e.setOpen(!1),t({type:k})},re=function(t){localStorage.setItem("deliveryOption",JSON.stringify(t)),"door_delivery"!==t||e.pickupLocation.delivery_available?"pickup"!==t||e.pickupLocation.pickup_available?(C(!0),K(t),J(t)):(se(!1),ee(!0)):(ee(!1),se(!0))},oe=function(t){"continue"===t?o(2):(e.setOpen(!0),e.setSuccess(!1),e.setOpenSuccess(!1),ee(!0),se(!0),o(1))};return Object(a.jsxs)(V.a,{isOpen:e.openSuccess,onRequestClose:function(){return null},style:Z,contentLabel:"Success",children:[1===r&&Object(a.jsx)("div",{children:_?Object(a.jsxs)("div",{children:["door_delivery"===G&&!q&&Object(a.jsxs)("div",{className:"p-5",children:[Object(a.jsx)("label",{style:{opacity:0},htmlFor:"address",children:"Address"}),Object(a.jsx)("input",{id:"address",type:"address",name:"address",onChange:function(e){return A(e.target.value)},className:"form-control",placeholder:"your delivery address"}),Object(a.jsx)("button",{onClick:function(){0!==z.length&&(localStorage.setItem("door_delivery",JSON.stringify(z)),U(!0))},className:"btn btn-sm modal-btn mt-2",children:"Continue"})]}),"pickup"===G&&!q&&Object(a.jsxs)("div",{className:"my-3",children:[Object(a.jsx)("h5",{className:"white text-big mb-3 center",children:"Please select a pickup location below"}),W.data.map((function(e){return Object(a.jsxs)("div",{onClick:function(){return function(e,t){L(Object(l.a)(Object(l.a)({},W),{},{location:"".concat(t.address,", ").concat(t.place.name,", ").concat(t.name),code:e,place:t.place.id})),localStorage.setItem("pickup",JSON.stringify({location:"".concat(t.address,", ").concat(t.place.name,", ").concat(t.name),code:e})),U(!0)}(e.code,e)},style:{border:"1px white solid",fontSize:"14px",color:"white"},className:"p-2 hover-location cursor mt-2",children:[e.address,", ",e.place.name,", ",e.name,Object(a.jsx)("span",{className:"location-pointer",children:"deh"})]},e.id)}))]}),q&&Object(a.jsxs)("div",{className:"p-2",children:[Object(a.jsxs)("div",{className:"white text-big center",children:["Great! ",R," option is available in your location."]}),Object(a.jsx)("div",{className:"white text-big center",children:"Press reset to restart the checker or continue with your order..."}),Object(a.jsxs)("div",{className:"p-4 d-flex justify-content-around align-items-center",children:[Object(a.jsx)("button",{onClick:function(){return oe("reset")},className:"btn btn-sm modal-btn mr-2",children:"Reset"}),Object(a.jsx)("button",{onClick:function(){return oe("continue")},className:"btn btn-sm modal-btn",children:"Continue"})]})]})]}):Object(a.jsx)("div",{children:$||ae?Object(a.jsxs)("div",{children:[$&&Object(a.jsx)("div",{children:e.isLuck?Object(a.jsx)("div",{children:ae&&Object(a.jsxs)("div",{className:"py-3 px-lg-4",children:[Object(a.jsx)("div",{className:"white text-big center px-2",children:"Wow! you are in luck."}),Object(a.jsx)("div",{className:"white text-big center px-2",children:"choose an option below\u2026\u2026"})]})}):Object(a.jsx)("div",{className:"py-5 white text-big center px-2",children:"Choose an option below\u2026\u2026"})}),Object(a.jsxs)("div",{children:[!$&&Object(a.jsx)("p",{style:{color:"white text-big center"},children:"Oops! Door delivery is not available in your city. Reset to order for a friend or relative in another city or choose another option."}),!ae&&Object(a.jsx)("p",{style:{color:"white text-big center"},children:"Oops! Pickup is not available in your city. Reset to order for a friend or relative in another city or choose another option."}),Object(a.jsxs)("div",{className:"d-flex justify-content-around align-items-center p-4",children:[Object(a.jsx)("button",{onClick:function(){return re("door_delivery")},className:"btn btn-sm modal-btn",children:"Delivery"}),(!$||!ae)&&Object(a.jsx)("button",{onClick:function(){return oe("reset")},className:"btn btn-sm modal-btn mr-2",children:"Reset"}),Object(a.jsx)("button",{onClick:function(){return re("pickup")},className:"btn btn-sm modal-btn",children:"Pickup"})]})]})]}):Object(a.jsxs)("div",{className:"p-3",children:[Object(a.jsx)("div",{className:"white text-big center px-lg-5",children:"Oops! WakaFoods is coming to your city soon."}),Object(a.jsx)("div",{className:"white text-big center px-lg-5",children:"Order for a friend or relative in another city."}),Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsx)("button",{onClick:function(){return oe("reset")},className:"mx-lg-5 btn btn-sm modal-btn mr-2",children:"Choose another city"})})]})})}),2===r&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"py-3 white text-big center",children:"How many persons are you ordering for?"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{value:b,name:"number",onChange:function(e){u(e.target.value)},type:"number",className:"form-control"}),Object(a.jsx)("button",{onClick:function(){if(o(3),b>1)for(var t=1;t<=new Array(Number(b)).length;t++)N.push(t);else localStorage.removeItem("names"),localStorage.setItem("names",JSON.stringify([1])),e.setSuccess(!0),ne(),e.notifySuccess("You're shopping for 1 person")},className:"btn btn-sm modal-btn mt-4 d-inline",children:"Continue"}),Object(a.jsx)("button",{onClick:function(){localStorage.removeItem("names"),localStorage.setItem("names",JSON.stringify([1])),e.setSuccess(!0),ne(),e.notifySuccess("You're shopping for 1 person")},className:"btn btn-sm modal-btn mt-4 d-inline ml-2",children:"Cancel"})]})]}),3===r&&b>1&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"py-3 white text-big",children:"Click the button below to customise your orders"}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return o(4)},className:"btn modal-btn mt-4 ml-2 text-big",children:"CUSTOMISE"})})]}),4===r&&Object(a.jsxs)("div",{style:{height:"70vh",overflowY:"scroll"},className:"pl-2 pr-4",children:[Object(a.jsxs)("h4",{className:"white text-big",children:["Please enter the name of the ",b," persons"]}),N.map((function(e,t){return Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("label",{className:"white",children:["Person ",e]}),Object(a.jsx)("input",{name:"text",onChange:function(e){return function(e,t){f(Object(l.a)(Object(l.a)({},p),{},Object(j.a)({},t,e.target.value)))}(e,t)},type:"text",className:"form-control",placeholder:"Mark Essien"})]})})),Object(a.jsx)("button",{onClick:function(){return localStorage.setItem("names",JSON.stringify(Object.values(p))),e.setSuccess(!0),e.notifySuccess("You're shopping for ".concat(b," persons")),void ne()},className:"btn btn-sm modal-btn mt-4",children:"Continue"})]})]})},ee=function(e){var t=Object(s.useState)(!1),c=Object(h.a)(t,2),n=c[0],r=c[1],o=function(){var t=Object(O.a)(u.a.mark((function t(c){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,e.states.filter((function(e){return e.id==c.target.value}));case 3:a=t.sent,e.setPlace(Object(l.a)({},a[0])),r(!1),localStorage.setItem("place",JSON.stringify(a[0].id));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)("div",{children:n?Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)("div",{className:"spinner-grow text-center",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsx)("div",{children:Object(a.jsxs)("select",{className:"form-control cursor",onChange:o,children:[Object(a.jsx)("option",{value:"",children:"Pick a city..."}),e.states.map((function(e){return Object(a.jsx)("option",{className:"cursor",value:e.id,children:e.name},e.slug)}))]})})})},te={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#ff8903"}},ce=function(e){var t=Object(s.useState)({name:"",slug:"",id:"",code:"",delivery_available:!0,pickup_available:!0}),c=Object(h.a)(t,2),n=c[0],r=c[1];return Object(a.jsx)("div",{children:Object(a.jsxs)(V.a,{isOpen:e.open,onRequestClose:function(){return null},style:te,contentLabel:"Select Location",children:[Object(a.jsx)("h6",{className:"modal-title center white text-big px-2 px-lg-5",children:"Welcome to WakaFoods!"}),Object(a.jsx)("h6",{className:"modal-title center white text-big px-2 px-lg-5",children:"Please choose your location"}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)(ee,Object(l.a)(Object(l.a)({},e),{},{openFail:e.openFail,setOpenFail:e.setOpenFail,openSuccess:e.openSuccess,setOpenSuccess:e.setOpenSuccess,place:n,setPlace:r})),Object(a.jsx)("div",{className:"py-2",children:n.name.length>0&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{fontSize:"16px"},className:"text-white",children:n.name}),Object(a.jsx)("button",{onClick:function(){e.setOpen(!1),localStorage.removeItem("location"),localStorage.setItem("location",JSON.stringify({name:n.name,slug:n.slug,id:n.id,code:n.code,delivery_available:n.delivery_available,pickup_available:n.pickup_available})),e.setLocation({name:n.name,slug:n.slug,id:n.id,code:n.code,delivery_available:n.delivery_available,pickup_available:n.pickup_available}),e.setIsLuck(!0),e.setOpenSuccess(!0)},className:"mt-1 d-inline btn btn-sm modal-btn",children:"select"})]})})]})]})})},ae=c.p+"static/media/preloader1.35081130.gif";function se(e){var t=e.home;return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:t?"20vh":"90vh",width:"100%"},children:Object(a.jsx)("div",{className:"overlay",children:Object(a.jsx)("div",{className:"spinner",children:Object(a.jsx)("img",{alt:"loader",style:{width:"50px",height:"50px"},src:ae})})})})}var ne=c(33),re=c(18),oe=(c(43),function(){var e=Object(s.useState)(!1),t=Object(h.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),o=Object(h.a)(r,2),l=o[0],i=o[1],d=Object(s.useState)(!1),j=Object(h.a)(d,2),b=j[0],u=j[1];return Object(a.jsxs)("div",{id:"bgg",children:[Object(a.jsx)("div",{id:"bgImage",children:Object(a.jsxs)("div",{className:"d-flex bg-wrapper flex-column justify-content-center align-items-center",children:[Object(a.jsxs)("h1",{children:[Object(a.jsx)("div",{className:"text-center text-sw",children:"WELCOME TO WAKAFOODS"}),Object(a.jsx)("div",{className:"text-center text-sw font-italic",children:"Your No 1 Online Restaurant"})]}),Object(a.jsxs)("div",{className:"mt-5 d-flex flex-row justify-content-center align-items-center",children:[Object(a.jsxs)("div",{className:"mx-4",children:[Object(a.jsx)("div",{className:"text-center muted muted1",children:c?"Opening Time  8:00 Am":""}),Object(a.jsx)("div",{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},className:"icon-wrapper1 d-flex",children:Object(a.jsx)(ne.c,{color:"white",size:"30px"})})]}),Object(a.jsxs)("div",{className:"mx-4",children:[Object(a.jsx)("div",{className:"text-center muted muted2",children:l?"09133333360":""}),Object(a.jsx)("div",{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},className:"icon-wrapper2 d-flex",children:Object(a.jsx)("a",{href:"tel:09133333360",children:Object(a.jsx)(ne.e,{color:"white",size:"30px"})})})]}),Object(a.jsxs)("div",{className:"mx-4",children:[Object(a.jsx)("div",{className:"text-center muted muted3",children:b?"37A pa Michael Imoudu Avenue Gwarinpa":""}),Object(a.jsx)("div",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},className:"icon-wrapper3 d-flex",children:Object(a.jsx)(ne.d,{color:"white",size:"30px"})})]})]})]})}),Object(a.jsx)("div",{className:"order-now",children:Object(a.jsxs)("div",{style:{height:"100%"},className:"container d-flex flex-column flex-lg-row justify-content-lg-between justify-content-around align-items-center",children:[Object(a.jsxs)("div",{className:"text-white",children:[Object(a.jsx)("div",{style:{fontSize:"29px",fontWeight:"bold",lineHeight:"1"},children:"CELEBRATE EVERYDAY..."}),Object(a.jsx)("div",{style:{fontSize:"29px",fontWeight:"bold",lineHeight:"1"},children:"With WAKAFOODS HOT MEALS At Home, Office or Work site"}),Object(a.jsx)("div",{style:{fontSize:"1.2em",fontStyle:"italic"},className:"mt-1",children:"Good Food Coming Your Way"})]}),Object(a.jsx)("div",{className:"d-lg-none",style:{width:"100%"},children:Object(a.jsx)("a",{style:{backgroundColor:"white",color:"#ff8903",fontWeight:"bold"},href:"#meals",className:"btn btn-lg btn-block",children:"ORDER NOW"})}),Object(a.jsx)("div",{className:"d-lg-block d-none order-lg",children:Object(a.jsx)("a",{style:{backgroundColor:"white",color:"#ff8903",fontWeight:"bold"},href:"#meals",className:"btn btn-lg",children:"ORDER NOW"})})]})})]})}),le=function(e){return Object(a.jsx)("div",{className:"pt-3",children:e.meals.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{href:"#".concat(e.name).concat(t),className:"cat-name cursor",children:e.name}),Object(a.jsx)("hr",{className:"py-1"})]},t)}))})},ie=function(){return Object(a.jsx)("div",{style:{height:"130px",backgroundColor:"#282C35"},children:Object(a.jsxs)("div",{style:{height:"100%"},className:"container d-flex flex-column align-items-start justify-content-around",children:[Object(a.jsx)("div",{className:"footer py-2",children:"Hotline: 09133333360   |  Address:  37A Pa Michael Imoudu Avenue Gwarinpa, Abuja"}),Object(a.jsx)("div",{className:"footer",children:"\xa9 2021 WAKA FOODS. ALL RIGHTS RESERVED."})]})})},de=[{name:"Pickup",code:"pickup"},{name:"Door Delivery",code:"door_delivery"},{name:"Full Buffet",code:"full_buffet"},{name:"Served Buffet",code:"served_buffet"},{name:"Pre Packed Service",code:"pre_packed_service"}],je=[{name:"Waka G&B",code:"waka_g&b"},{name:"Waka Chinese",code:"waka_chinese"},{name:"Waka Naija",code:"waka_naija"},{name:"Beverages",code:"beverages"},{name:"Others",code:"others"}],be=[{name:"Mixed",code:"mixed"},{name:"Adults",code:"adults"},{name:"Children",code:"children"},{name:"Advanced",code:"advanced"},{name:"High Class",code:"high_class"},{name:"Middle Class",code:"middle_class"},{name:"Low Class",code:"low_class"},{name:"Mixed Class",code:"mixed_class"}],ue=function(e){Object(d.f)();var t=Object(s.useState)({reserved_date:"",reserved_time:"",no_of_persons:2,name:"",phone:"",address:"",event_address:"",service_type:"",crowd_type:"",menu_type:"",email:""}),c=Object(h.a)(t,2),n=c[0],r=c[1],o=Object(s.useState)(!1),i=Object(h.a)(o,2),b=i[0],u=i[1],m=Object(s.useState)([]),O=Object(h.a)(m,2),p=O[0],f=O[1],v=Object(s.useState)(""),g=Object(h.a)(v,2),y=g[0],N=g[1],S=function(e){r(Object(l.a)(Object(l.a)({},n),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){var t=localStorage.getItem("location"),c=JSON.parse(t);x.a.get("https://server.wakafoods.com/api/avail_pickup/".concat(c.slug,"/list"),{headers:{Authorization:"Bearer ".concat(e.token),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){f(e.data.pickup_locations)}))}),[]),Object(a.jsx)("div",{className:"book p-3",children:Object(a.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),n.number_of_seat<1)e.notifyWarning("Number of seats must be greater than zero");else if(0===y.length)e.notifyWarning("a location must be selected");else{localStorage.getItem("token");u(!0),x.a.post("https://server.wakafoods.com/api/reservation/new",Object(l.a)(Object(l.a)({},n),{},{dispatcher:y}),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){u(!1),e.notifySuccess("Booked successfully")})).catch((function(t){var c=t.response.data.errors;console.log(c),e.notifyWarning(c.reserved_date?c.reserved_date[0]:c.reserved_time?c.reserved_time[0]:c.email?c.email[0]:c.name?c.name[0]:c.no_of_persons?c.no_of_persons:c.phone?c.phone[0]:"an error occured"),u(!1)}))}},children:[Object(a.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"name",name:"name",type:"text",required:!0})]}),Object(a.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"email",name:"email",type:"email",required:!0})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"phone",name:"phone",type:"text",required:!0})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"address",children:"Address"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"address",name:"address",type:"text"})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"event_address",children:"Event_address"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"event_address",name:"event_address",type:"text"})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"reserved_date",children:"Date"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"reserved_date",name:"reserved_date",type:"date",required:!0})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"reserved_time",children:"Time"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"reserved_time",name:"reserved_time",type:"time",required:!0})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"number_of_persons",children:"Number of persons"}),Object(a.jsx)("input",{className:"form-control",onChange:S,id:"number_of_persons",value:n.no_of_persons,name:"no_of_persons",type:"number",required:!0})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"service_type",children:"Service Type"}),Object(a.jsxs)("select",{name:"service_type",className:"form-control",onChange:S,required:!0,id:"service_type",children:[Object(a.jsx)("option",{value:""}),de.map((function(e,t){return Object(a.jsx)("option",{value:e.code,children:e.name},t)}))]})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"crowd_type",children:"Crowd Type"}),Object(a.jsxs)("select",{name:"crowd_type",className:"form-control",onChange:S,required:!0,id:"crowd_type",children:[Object(a.jsx)("option",{value:""}),be.map((function(e,t){return Object(a.jsx)("option",{value:e.code,children:e.name},t)}))]})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"menu_type",children:"Menu Type"}),Object(a.jsxs)("select",{name:"menu_type",className:"form-control",onChange:S,required:!0,id:"menu_type",children:[Object(a.jsx)("option",{value:""}),je.map((function(e,t){return Object(a.jsx)("option",{value:e.code,children:e.name},t)}))]})]}),Object(a.jsxs)("div",{className:"mt-2 d-flex flex-column justify-content-between",children:[Object(a.jsx)("label",{htmlFor:"reserved_location",children:"Select Location"}),Object(a.jsxs)("select",{className:"form-control",onChange:function(e){return N(e.target.value)},required:!0,id:"reserved_location",children:[Object(a.jsx)("option",{value:""}),p.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),b?Object(a.jsx)("div",{className:"spinner-grow text-center mt-4 ml-1",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(a.jsx)("button",{className:"btn mt-4 modal-btn",children:"Submit"})]})})};function me(e){Object(g.b)();var t=Object(g.c)((function(e){return e.done})),c=Object(s.useState)([]),r=Object(h.a)(c,2),o=r[0],d=r[1],b=Object(s.useState)(!0),p=Object(h.a)(b,2),f=p[0],v=p[1],y=Object(s.useState)(!1),N=Object(h.a)(y,2),S=N[0],w=N[1],k=Object(s.useState)(!1),_=Object(h.a)(k,2),E=_[0],I=_[1],z=Object(s.useState)(!1),A=Object(h.a)(z,2),F=A[0],T=A[1],W=Object(s.useState)([""]),L=Object(h.a)(W,2),P=L[0],D=L[1],R=Object(s.useState)(""),J=Object(h.a)(R,2),M=J[0],B=J[1],q=Object(s.useState)([]),U=Object(h.a)(q,2),Y=U[0],H=(U[1],Object(s.useState)(1)),K=Object(h.a)(H,2),V=K[0],X=K[1],Z=Object(s.useState)(!1),ee=Object(h.a)(Z,2),te=ee[0],ae=(ee[1],Object(s.useState)([])),de=Object(h.a)(ae,2),je=de[0],be=de[1],me=Object(s.useState)(""),Oe=Object(h.a)(me,2),he=Oe[0],pe=Oe[1],xe=Object(s.useState)([]),fe=Object(h.a)(xe,2),ve=fe[0],ge=fe[1],ye=Object(s.useState)(!1),Ne=Object(h.a)(ye,2),Se=Ne[0],we=Ne[1],ke=Object(s.useState)(0),_e=Object(h.a)(ke,2),Ce=_e[0],Ee=_e[1],Ie=n.a.useState(0),ze=Object(h.a)(Ie,2),Ae=ze[0],Fe=ze[1],Te=Object(s.useState)(!1),We=Object(h.a)(Te,2),Le=We[0],Pe=We[1],De=Object(s.useState)(!1),Re=Object(h.a)(De,2),Je=Re[0],Me=Re[1],Be=Object(s.useState)({}),qe=Object(h.a)(Be,2),Ue=qe[0],Ye=qe[1],He=function(e,t){Fe(t)},Ge=Object(s.useState)(!1),Ke=Object(h.a)(Ge,2),Ve=Ke[0],Xe=Ke[1],Qe=function(e){return re.b.success(e)},Ze=function(e){return re.b.warning(e)},$e=function(){var e=Object(O.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==M.length){e.next=2;break}return e.abrupt("return");case 2:c=localStorage.getItem("cart"),JSON.stringify(c),localStorage.setItem("cart",JSON.stringify([].concat(Object(m.a)(ve),[Object(l.a)(Object(l.a)({},t),{},{name:M})]))),ge([].concat(Object(m.a)(ve),[Object(l.a)(Object(l.a)({},t),{},{name:M})])),Qe("Meal added to cart"),Ee(Ce+1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){"undefined"===e.location.query&&(Ze("Select Your location"),v(!0),T(!1));var c=localStorage.getItem("location"),a=(JSON.parse(c),localStorage.getItem("token")),s=localStorage.getItem("cart"),n=JSON.parse(s);we(t.done),pe(a),void 0===n||null===n?ge([]):(ge(n),Ee(n.length)),x.a.get("https://server.wakafoods.com/api/place/list").then((function(e){d(e.data.places)})),x.a.get("https://server.wakafoods.com/api/meal/list").then((function(e){be(e.data.data)})),setTimeout((function(){Xe(!0)}),1e4)}),[]),Object(s.useEffect)((function(){if(F){var e=localStorage.getItem("names"),t=JSON.parse(e);if(D(t),B(t[0]),1===t.length){for(var c=1;c<=new Array(t[0]).length;c++)Y.push(c);B(Y[0])}}}),[F]),Object(a.jsxs)("div",{id:"home-screen",children:[Object(a.jsx)(C,{cartSize:Ce,home:!0,setSuccess:T,setOpen:v}),Object(a.jsx)(re.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)(oe,{}),!Se&&Object(a.jsxs)("div",{children:[o.length>0&&Ve&&!S&&!E&&f&&Object(a.jsx)(ce,Object(l.a)({setLocation:Ye,setIsLuck:Me,setSuccess:T,open:f,openFail:S,setOpenFail:w,openSuccess:E,setOpenSuccess:I,setOpen:v,states:o},e)),S&&!E&&Object(a.jsx)(Q,{notifyWarning:Ze,open:f,openFail:S,setOpenFail:w,openSuccess:E,setOpenSuccess:I,setOpen:v}),!S&&E&&Ue.slug&&Object(a.jsx)($,Object(j.a)({setSuccess:T,setOpen:v,pickupLocation:Ue,isLuck:Je,notifySuccess:Qe,location:te,openFail:S,setOpenFail:w,openSuccess:E,setOpenSuccess:I},"setOpen",v))]}),Object(a.jsx)("div",{id:"meals",children:Object(a.jsxs)("div",{style:{width:"100%"},className:"container",children:[Object(a.jsx)("h4",{className:"py-5 text-center",style:{color:"#ff8903"},children:F?P.length>1?"For ".concat(M):"For Person ".concat(V):""}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:je.length>0?Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-lg-2",children:[Object(a.jsxs)("div",{className:"d-none d-lg-block",children:[Object(a.jsxs)("h6",{children:[Object(a.jsx)(ne.h,{})," Categories"]}),Object(a.jsx)(le,{meals:je})]}),Object(a.jsxs)("div",{className:"d-lg-none pb-3",children:[Object(a.jsxs)("div",{onClick:function(){return Pe(!Le)},style:{width:"100%"},className:"bg-white cursor p-2 d-flex justify-content-around align-items-center",children:[Object(a.jsx)("div",{style:{color:"gray"},children:"Categories"}),Object(a.jsx)("div",{children:Le?Object(a.jsx)(ne.b,{color:"gray"}):Object(a.jsx)(ne.a,{color:"gray"})})]}),Le&&Object(a.jsx)(le,{meals:je})]})]}),Object(a.jsxs)("div",{className:"col-lg-10",children:[Object(a.jsxs)("div",{className:"d-flex justify-content-start align-items-center pb-3",children:[Object(a.jsxs)("div",{className:"py-3 px-5 cursor",style:{fontWeight:"bold",color:0===Ae?"#ff8903":"gray",backgroundColor:0===Ae?"white":"transparent"},onClick:function(e){return He(0,0)},children:[Object(a.jsx)(ne.g,{}),"  Menu"]}),Object(a.jsxs)("div",{className:"py-3 px-5 cursor",style:{fontWeight:"bold",color:1===Ae?"#ff8903":"gray",backgroundColor:1===Ae?"white":"transparent"},onClick:function(e){return He(0,1)},children:[Object(a.jsx)(ne.f,{}),"  Book an Engagement"]})]}),0===Ae&&Object(a.jsx)(G,{notifySuccess:Qe,handleAddCart:$e,person:M,meals:je}),1===Ae&&Object(a.jsx)(ue,{notifySuccess:Qe,notifyWarning:Ze,token:he}),Object(a.jsxs)("div",{className:"mt-4 pb-5",children:[P.length>1&&V!==P.length&&Object(a.jsx)("button",{onClick:function(){B(P[V]),X(V+1)},className:"btn btn-style btn-lg",children:"NEXT PERSON"}),1===P.length&&V<Y.length&&Object(a.jsx)("button",{onClick:function(){B(Y[V]),X(V+1)},className:"btn btn-style btn-lg",children:"NEXT PERSON"})]}),Object(a.jsx)("div",{className:"mb-5",children:0===Ae&&Object(a.jsx)(i.b,{to:"/cart",className:"nav-item",children:Object(a.jsx)("button",{className:"btn",style:{color:"white",backgroundColor:"#ff8903"},children:"CONTINUE TO CART"})})})]})]}):Object(a.jsx)(se,{home:!0})})})]})}),Object(a.jsx)(ie,{})]})}function Oe(){var e=Object(s.useState)({}),t=Object(h.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!0),o=Object(h.a)(r,2),l=o[0],d=o[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakafoods.com/api/profile/details",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){d(!1),n(e.data.details)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),l?Object(a.jsx)(se,{}):Object(a.jsxs)("div",{className:"user-dashboard mt-5",children:[Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("img",{alt:"photo",src:null===c.avatar?"https://t4.ftcdn.net/jpg/03/46/93/61/360_F_346936114_RaxE6OQogebgAWTalE1myseY1Hbb5qPM.jpg":c.avatar,className:"rounded-circle",style:{height:"200px",width:"200px",objectFit:"cover"}}),Object(a.jsxs)("h5",{style:{fontWeight:"bold",marginTop:"10px"},children:[c.first_name," ",c.last_name]})]}),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(a.jsx)(i.b,{to:"/account/open",children:Object(a.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(a.jsx)("div",{className:"card-body text-center",children:Object(a.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Open Oders"})})})})}),Object(a.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(a.jsx)(i.b,{to:"/account/close",children:Object(a.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(a.jsx)("div",{className:"card-body text-center",children:Object(a.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Closed Orders"})})})})}),Object(a.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(a.jsx)(i.b,{to:"/account/password",children:Object(a.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(a.jsx)("div",{className:"card-body text-center",children:Object(a.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Change Password"})})})})}),Object(a.jsx)("div",{className:"col-lg-6 col-md-6 col-6 mb-3 ",children:Object(a.jsx)(i.b,{to:"/account/edit",children:Object(a.jsx)("div",{className:"card shadow border-0 card-hover",children:Object(a.jsx)("div",{className:"card-body text-center",children:Object(a.jsx)("p",{className:"card-text",style:{fontWeight:"bold",fontSize:"0.7em"},children:"Edit Profile"})})})})})]})})]})]})}var he=c(45),pe=c.n(he);function xe(){var e=Object(s.useState)(!0),t=Object(h.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),o=Object(h.a)(r,2),l=o[0],i=o[1],d=Object(s.useState)({next_url:null,data:[]}),j=Object(h.a)(d,2),b=j[0],u=j[1],O=Object(s.useState)(1),p=Object(h.a)(O,2),f=p[0],v=p[1];Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakafoods.com/api/order/list/open",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:e.data.orders.data}),n(!1)}))}),[]),Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);f>1&&x.a.get(b.next_url,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:[].concat(Object(m.a)(b.data),Object(m.a)(e.data.orders.data))}),i(!1)}))}),[f]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),c?Object(a.jsx)(se,{}):Object(a.jsx)("div",{className:"mt-5 container",children:b.data.length>0?Object(a.jsxs)("div",{className:"table-responsive mt-5 bg-white p-2",children:[Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{className:"thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Order Number"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Delivery Type"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Amount"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Date"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Status"})]})}),Object(a.jsx)("tbody",{children:b.data.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{fontSize:"13px"},children:e.code}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:e.delivery_type}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:Object(a.jsx)(I.a,{children:e.total})}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:Object(a.jsx)(pe.a,{format:"YYYY/MM/DD",children:e.created_at})}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:Object(a.jsx)("span",{className:"badge ".concat("new"===e.status?"badge-success":"confirmed"===e.status?"badge-primary":"badge-warning"),children:e.status})})]},t)}))})]}),"string"===typeof b.next_url&&Object(a.jsx)("div",{className:"my-5",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:l?Object(a.jsx)("div",{className:"spinner-grow",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(a.jsx)("button",{onClick:function(){i(!0),v(f+1)},className:"cursor btn btn-style",style:{fontWeight:"bold"},children:"SEE MORE"})})]}):Object(a.jsx)("div",{style:{fontWeight:"bold",color:"#ff8903"},className:"text-center",children:"NO ORDER"})})]})}function fe(){var e=Object(s.useState)(!0),t=Object(h.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),o=Object(h.a)(r,2),l=o[0],i=o[1],d=Object(s.useState)({next_url:null,data:[]}),j=Object(h.a)(d,2),b=j[0],u=j[1],O=Object(s.useState)(1),p=Object(h.a)(O,2),f=p[0],v=p[1];Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakafoods.com/api/order/list/closed",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:e.data.orders.data}),n(!1)}))}),[]),Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);f>1&&x.a.get(b.next_url,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){u({next_url:e.data.orders.next_page_url,data:[].concat(Object(m.a)(b.data),Object(m.a)(e.data.orders.data))}),i(!1)}))}),[f]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),c?Object(a.jsx)(se,{}):Object(a.jsx)("div",{className:"mt-5 container",children:b.data.length>0?Object(a.jsxs)("div",{className:"table-responsive mt-5 bg-white p-2",children:[Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{className:"thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Order Number"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Delivery Type"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Amount"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Date"}),Object(a.jsx)("th",{style:{fontSize:"13px"},scope:"col",children:"Status"})]})}),Object(a.jsx)("tbody",{children:b.data.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{fontSize:"13px"},children:e.code}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:e.delivery_type}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:Object(a.jsx)(I.a,{children:e.total})}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:Object(a.jsx)(pe.a,{format:"YYYY/MM/DD",children:e.created_at})}),Object(a.jsx)("td",{style:{fontSize:"13px"},children:Object(a.jsx)("span",{className:"badge ".concat("completed"===e.status?"badge-success":"cancelled"===e.status?"badge-secondary":"cancelled_failed_payment"===e.status?"badge-warning":"cancelled_system"===e.status?"badge-primary":"cancelled_user"===e.status?"badge-dark":"badge-warning"),children:e.status})})]},t)}))})]}),"string"===typeof b.next_url&&Object(a.jsx)("div",{className:"my-5",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:l?Object(a.jsx)("div",{className:"spinner-grow",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(a.jsx)("button",{onClick:function(){i(!0),v(f+1)},className:"cursor btn btn-style",style:{fontWeight:"bold"},children:"SEE MORE"})})]}):Object(a.jsx)("div",{style:{fontWeight:"bold",color:"#ff8903"},className:"text-center",children:"NO ORDER"})})]})}function ve(){var e,t=Object(s.useState)({email:"",first_name:"",last_name:"",title:"",phone:"",avatar:null}),c=Object(h.a)(t,2),n=c[0],r=c[1],o=Object(s.useState)(!0),i=Object(h.a)(o,2),d=i[0],b=i[1],m=Object(s.useState)(!1),p=Object(h.a)(m,2),f=p[0],v=p[1],g=function(e){r(Object(l.a)(Object(l.a)({},n),{},Object(j.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(O.a)(u.a.mark((function e(t){var c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.next=4,localStorage.getItem("token");case 4:return c=e.sent,e.next=7,JSON.parse(c);case 7:return a=e.sent,e.next=10,new FormData;case 10:(s=e.sent).append("email",n.email),s.append("first_name",n.first_name),s.append("last_name",n.last_name),s.append("title",n.title),s.append("phone",n.phone),s.append("avatar",n.avatar),x.a.post("https://server.wakafoods.com/api/profile/update",s,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"}}).then((function(){var e;v(!1),e="Profile updated successfully",re.b.success(e)})).catch((function(e){v(!1);var t,c=Object.keys(e.response.data.errors)[0][0];t=c,re.b.error(t)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=localStorage.getItem("token"),t=JSON.parse(e);x.a.get("https://server.wakafoods.com/api/profile/details",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){b(!1),r(Object(l.a)(Object(l.a)({},n),{},{email:e.data.details.email,first_name:e.data.details.first_name,last_name:e.data.details.last_name,title:e.data.details.title,phone:e.data.details.phone}))}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),Object(a.jsx)(re.a,{position:"top-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),d?Object(a.jsx)(se,{}):Object(a.jsxs)("div",{className:"user-dashboard mt-5 container bg-white p-2",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"first_name",style:{fontSize:"0.7em",fontWeight:"bold"},children:"First Name"}),Object(a.jsx)("input",{onChange:g,value:n.first_name,name:"first_name",id:"first_name",type:"text",className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"last_name",style:{fontSize:"0.7em",fontWeight:"bold"},children:"Last Name"}),Object(a.jsx)("input",{onChange:g,name:"last_name",value:n.last_name,id:"last_name",type:"text",className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{style:{fontSize:"0.7em",fontWeight:"bold"},htmlFor:"title",children:"Title"}),Object(a.jsxs)("select",(e={onChange:g,value:n.title,id:"title",name:"title"},Object(j.a)(e,"onChange",(function(e){return g(e)})),Object(j.a)(e,"className","form-control"),Object(j.a)(e,"id","title"),Object(j.a)(e,"children",[Object(a.jsx)("option",{value:"mr",children:"Mr"}),Object(a.jsx)("option",{value:"mrs",children:"Mrs"}),Object(a.jsx)("option",{value:"miss",children:"Miss"})]),e))]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"number",style:{fontSize:"0.7em",fontWeight:"bold"},children:"Phone Number"}),Object(a.jsx)("input",{onChange:g,value:n.phone,name:"phone",id:"number",type:"number",className:"form-control"})]}),Object(a.jsxs)("div",{className:"custom-file",children:[Object(a.jsx)("input",{accept:"image/*",onChange:function(e){r(Object(l.a)(Object(l.a)({},n),{},{avatar:e.target.files[0]}))},type:"file",className:"custom-file-input",id:"image"}),Object(a.jsx)("label",{className:"custom-file-label",htmlFor:"image",style:{fontSize:"1em",opacity:"0.8"},children:"Choose Profile Avatar"})]}),f?Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsx)("div",{className:"form-group mt-5",children:Object(a.jsx)("button",{type:"submit",onClick:y,className:"btn btn-block",style:{color:"white",backgroundColor:" #ff8903"},children:"UPDATE PROFILE"})})]})]})}var ge=function(e){var t=Object(s.useState)(!1),c=Object(h.a)(t,2),n=c[0],r=c[1],o=function(){var t=Object(O.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setCart((function(t){return t.filter((function(t){return t.id!==e.cart.id}))})),e.setCarts((function(t){return t.filter((function(t){return t.id!==e.cart.id}))})),c="Cart item removed",re.b.success(c),e.setPress(e.press+1);case 4:case"end":return t.stop()}var c}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(O.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0),"string"===typeof e.token?x.a.post("https://server.wakafoods.com/api/cart/remove",{id:e.cart.id},{headers:{Authorization:"Bearer ".concat(e.token),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){r(!1),o()})).catch((function(){var e;r(!1),e="Something went wrong!",re.b.error(e)})):(o(),r(!1));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{style:{backgroundColor:"white"},className:"card p-3 mt-4 shadow border-0",children:[Object(a.jsx)(re.a,{position:"top-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-3",children:Object(a.jsx)("img",{alt:"photo",style:{width:"100%",height:"120px",objectFit:"contain"},src:e.cart.meal.image})}),Object(a.jsx)("div",{className:"col-lg-3",children:Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"mt-3 mt-lg-0",children:Object(a.jsx)("h6",{children:e.cart.meal.name})}),Object(a.jsxs)("div",{className:"mt-2",style:{color:"gray",fontSize:"13px"},children:["For: ","number"===typeof e.cart.name?"person ".concat(e.cart.name):e.cart.name]})]}),Object(a.jsx)("div",{className:"mt-2 d-none d-lg-block",children:n?Object(a.jsx)("div",{className:"spinner-grow",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(a.jsxs)("div",{onClick:l,style:{color:"#ff8903",fontWeight:"bold",fontSize:"13px"},className:"cursor",children:[Object(a.jsx)(v.b,{style:{color:"#ff8903",fontSize:"20px"}})," REMOVE"]})})]})}),Object(a.jsxs)("div",{className:"col-lg-2 mt-3 mt-lg-0",children:[Object(a.jsx)("div",{style:{fontSize:"12px",color:"#ff8903",fontWeight:"bold"},children:"MEAL PRICE"}),Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsx)(I.a,{children:e.cart.meal.price})})]}),Object(a.jsxs)("div",{className:"col-lg-2 mt-3 mt-lg-0",children:[Object(a.jsx)("div",{style:{fontSize:"12px",color:"#ff8903",fontWeight:"bold"},children:"EXTRAS PRICE"}),Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsx)(I.a,{children:e.cart.sub_total-Number(e.cart.meal.price)})})]}),Object(a.jsxs)("div",{className:"col-lg-2 mt-3 mt-lg-0",children:[Object(a.jsx)("div",{style:{fontSize:"12px",color:"#ff8903",fontWeight:"bold"},children:"TOTAL PRICE"}),Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsx)(I.a,{children:e.cart.sub_total})})]})]}),Object(a.jsx)("div",{className:"mt-2 d-block d-lg-none",children:n?Object(a.jsx)("div",{className:"spinner-grow",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(a.jsxs)("div",{onClick:l,style:{color:"#ff8903",fontWeight:"bold",fontSize:"15px"},className:"cursor",children:[Object(a.jsx)(v.b,{style:{color:"#ff8903",fontSize:"25px"}})," REMOVE"]})})]})},ye=function(e){var t=Object(s.useState)([]),c=Object(h.a)(t,2),n=c[0],r=c[1],o=Object(s.useState)([]),l=Object(h.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)({}),u=Object(h.a)(b,2),m=u[0],O=u[1],p=Object(s.useState)(void 0),f=Object(h.a)(p,2),v=f[0],g=f[1],y=Object(s.useState)(!0),N=Object(h.a)(y,2),S=N[0],w=N[1],k=Object(s.useState)(0),_=Object(h.a)(k,2),E=_[0],z=_[1],A=Object(s.useState)(!1),F=Object(h.a)(A,2),T=F[0],W=F[1];return Object(s.useEffect)((function(){E>0&&(d.length>0?localStorage.setItem("cart",JSON.stringify(d)):localStorage.removeItem("cart"))}),[E]),Object(s.useEffect)((function(){var e=localStorage.getItem("cart"),t=localStorage.getItem("token"),c=localStorage.getItem("location"),a=JSON.parse(c),s=JSON.parse(e),n=JSON.parse(t);g(n),j(s),a&&W(!0),void 0!==s&&("string"===typeof n?x.a.post("https://server.wakafoods.com/api/cart/sync",{items:s},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){r(e.data.cart.items),O(e.data.cart),w(!1)})).catch((function(){w(!1)})):x.a.post("https://server.wakafoods.com/api/cart/sync",{items:s}).then((function(e){r(e.data.cart.items),O(e.data.cart),w(!1)})).catch((function(){w(!1)})))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{cart:!0}),S?Object(a.jsx)(se,{}):Object(a.jsxs)("div",{className:"my-5 container bg-white p-2",children:[Object(a.jsxs)("h1",{style:{fontSize:"26px"},children:["CART (",S?0:n.length,")"]}),Object(a.jsx)("div",{className:"mt-5",children:n.map((function(e,t){return Object(a.jsx)(ge,{setPress:z,press:E,carts:d,setCarts:j,setCart:r,token:v,total:m.total,cart:e},t)}))}),n.length>0&&Object(a.jsxs)("div",{className:"mt-5",style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(a.jsx)("div",{style:{fontWeight:"bold"},children:"TOTAL:"}),Object(a.jsx)("div",{style:{color:"#ff8903",fontSize:"24px",fontWeight:"bold"},className:"ml-5 mr-md-4",children:Object(a.jsx)(I.a,{children:m.total})})]}),Object(a.jsx)("div",{className:"mt-5 shadow",children:Object(a.jsxs)("div",{className:"p-4",style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(a.jsx)(i.b,{to:"/",children:Object(a.jsx)("button",{style:{color:"#ff8903",backgroundColor:"white",border:"none"},className:"btn shadow px-3 py-2",children:"CONTINUE SHOPPING"})}),n.length>0&&Object(a.jsx)(i.b,{to:{pathname:"".concat(T?"/checkout":"/"),query:{price:m.total,location:!0}},children:Object(a.jsx)("button",{style:{color:"white",backgroundColor:"#ff8903",border:"none"},className:"btn ml-4 shadow px-3 py-2",children:"GO TO CHECKOUT"})})]})})]})]})};function Ne(e){var t=Object(g.b)(),c=Object(g.c)((function(e){return e.userSignin})),n=c.loading,r=c.error,o=Object(s.useState)({identifier:"",password:""}),d=Object(h.a)(o,2),b=d[0],m=d[1],p=b.identifier,f=b.password,v=function(e){m(Object(l.a)(Object(l.a)({},b),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),Object(a.jsx)("div",{className:"login container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"90vh"},children:Object(a.jsx)("div",{className:"card border-0 shadow login-form",style:{backgroundColor:"#ff8903"},children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("from",{children:Object(a.jsxs)("div",{className:"from-row",children:[Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:Se.label,htmlFor:"inputCity",children:"Email"}),Object(a.jsx)("input",{value:p,name:"identifier",onChange:function(e){return v(e)},type:"email",placeholder:"Enter Email",className:"form-control"}),r&&Object(a.jsx)("p",{style:Se.formError,children:r.errors&&r.errors.identifier}),r&&Object(a.jsx)("p",{style:Se.formError,children:r.errors&&r.errors.email}),r&&Object(a.jsx)("p",{style:Se.formError,children:r.errors&&r.errors.phone}),r&&Object(a.jsx)("p",{style:Se.formError,children:r.errors&&r.errors.username})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:Se.label,htmlFor:"inputCity",children:"Password"}),Object(a.jsx)("input",{value:f,name:"password",onChange:function(e){return v(e)},type:"password",placeholder:"Enter Password",className:"form-control"}),r&&Object(a.jsx)("p",{style:Se.formError,children:r.errors&&r.errors.password})]}),n?Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsx)("div",{className:"form-group col-md-12",children:Object(a.jsx)("button",{type:"submit",onClick:function(c){c.preventDefault(),t(function(e,t){return function(){var c=Object(O.a)(u.a.mark((function c(a){var s,n;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:y,payload:{identifier:e,password:t}}),c.prev=1,c.next=4,x.a.post("https://server.wakafoods.com/api/auth/login/default",{identifier:e,password:t});case 4:s=c.sent,(n=s.data).token?(a({type:N,payload:n}),localStorage.setItem("token",JSON.stringify(n.token))):a({type:S,payload:n.errors}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),a({type:S,payload:c.t0.response?c.t0.response.data:"something went wrong"});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(p,f)).then((function(){})).then((function(){"string"===typeof localStorage.getItem("token")&&(e.location.state&&e.location.state.cart?e.history.push("/cart"):e.history.push("/"))}))},className:"btn  btn-block",style:{color:"white",backgroundColor:"black"},children:"SIGN IN"})}),Object(a.jsx)(i.b,{to:{pathname:"/signup",state:{cart:!(!e.location.state||!e.location.state.cart)}},className:"form-group col-md-12",children:Object(a.jsx)("p",{className:"btn",style:{color:"#023a9c",fontWeight:"bold"},children:"Not Registered?"})})]})})})})})]})}var Se={label:{fontSize:"0.9em",fontWeight:"bold",color:"black"},formError:{fontSize:"0.7em",color:"red",marginTop:"10px",fontWeight:"bold"}};function we(e){var t=Object(g.b)(),c=Object(g.c)((function(e){return e.userSignin})),n=c.loading,r=c.error,o=Object(s.useState)({email:"",password:"",first_name:"",last_name:"",title:"Mr",phone:""}),d=Object(h.a)(o,2),b=d[0],m=d[1],p=b.email,f=b.password,v=b.first_name,w=b.last_name,k=(b.title,b.phone),_=function(e){m(Object(l.a)(Object(l.a)({},b),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),Object(a.jsx)("div",{className:"login container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",paddingTop:"50px",paddingBottom:"50px"},children:Object(a.jsx)("div",{className:"card border-0 shadow login-form",style:{backgroundColor:"#ff8903"},children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("from",{children:Object(a.jsxs)("div",{className:"from-row",children:[Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:ke.label,htmlFor:"first_name",children:"First Name"}),Object(a.jsx)("input",{id:"first_name",value:v,name:"first_name",onChange:function(e){return _(e)},type:"text",className:"form-control"}),r&&Object(a.jsx)("p",{style:ke.formError,children:r.errors&&r.errors.first_name})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:ke.label,htmlFor:"last_name",children:"Last Name"}),Object(a.jsx)("input",{id:"last_name",value:w,name:"last_name",onChange:function(e){return _(e)},type:"text",className:"form-control"}),r&&Object(a.jsx)("p",{style:ke.formError,children:r.errors&&r.errors.last_name})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:ke.label,htmlFor:"number",children:"Phone Number"}),Object(a.jsx)("input",{id:"number",value:k,name:"phone",onChange:function(e){return _(e)},type:"number",className:"form-control"}),r&&Object(a.jsx)("p",{style:ke.formError,children:r.errors&&r.errors.phone})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:ke.label,htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{id:"email",value:p,name:"email",onChange:function(e){return _(e)},type:"email",placeholder:"Enter Email",className:"form-control"}),r&&Object(a.jsx)("p",{style:ke.formError,children:r.errors&&r.errors.identifier}),r&&Object(a.jsx)("p",{style:ke.formError,children:r.errors&&r.errors.email}),r&&Object(a.jsx)("p",{style:ke.formError,children:r.errors&&r.errors.username})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:ke.label,htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{id:"password",value:f,name:"password",onChange:function(e){return _(e)},type:"password",placeholder:"Enter Password",className:"form-control"}),r&&Object(a.jsx)("p",{style:ke.formError,children:r.errors&&r.errors.password})]}),n?Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsx)("div",{className:"form-group col-md-12",children:Object(a.jsx)("button",{type:"submit",onClick:function(c){c.preventDefault(),t(function(e){return function(){var t=Object(O.a)(u.a.mark((function t(c){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:y,payload:e}),t.prev=1,t.next=4,x.a.post("https://server.wakafoods.com/api/auth/register/default",e);case 4:a=t.sent,(s=a.data).token?(c({type:N,payload:s}),localStorage.setItem("token",JSON.stringify(s.token))):c({type:S,payload:s.errors}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),c({type:S,payload:t.t0.response?t.t0.response.data:"something went wrong"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(b)).then((function(){})).then((function(){"string"===typeof localStorage.getItem("token")&&e.history.push("/")}))},className:"btn  btn-block",style:{color:"white",backgroundColor:"black"},children:"SIGN UP"})}),Object(a.jsx)("div",{className:"form-group col-md-12",children:Object(a.jsx)(i.b,{to:{pathname:"/signin",state:{cart:!(!e.location.state||!e.location.state.cart)}},className:"btn",style:{color:"#023a9c",fontWeight:"bold"},children:"Already a User? Login"})})]})})})})})]})}var ke={label:{fontSize:"0.9em",fontWeight:"bold",color:"black"},formError:{fontSize:"0.7em",color:"red",marginTop:"10px",fontWeight:"bold"}},_e=c(38),Ce=c(91),Ee={userSignin:{user:localStorage.getItem("token")||null},done:{done:!1}},Ie=Object(_e.c)({userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case N:return{loading:!1,user:t.payload};case S:return{loading:!1,error:t.payload};case w:return{user:{}};default:return e}},done:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{done:!0};case _:return{done:!1};default:return e}}}),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.d,Ae=Object(_e.e)(Ie,Ee,ze(Object(_e.a)(Ce.a)));function Fe(e){var t=Object(s.useState)(!1),c=Object(h.a)(t,2),n=c[0],r=c[1],o=Object(s.useState)(!1),i=Object(h.a)(o,2),d=(i[0],i[1],Object(s.useState)({current_password:"",new_password:"",retype_new_password:""})),b=Object(h.a)(d,2),u=b[0],m=b[1],O=function(e){m(Object(l.a)(Object(l.a)({},u),{},Object(j.a)({},e.target.name,e.target.value)))},p=function(e){return re.b.error(e)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),Object(a.jsx)(re.a,{position:"top-right",autoClose:3500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)("div",{className:"login container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"90vh"},children:Object(a.jsx)("div",{className:"card border-0 shadow ",style:{backgroundColor:"#ff8903",width:"60%"},children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("from",{children:Object(a.jsxs)("div",{className:"from-row",children:[Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:Te.label,htmlFor:"current_password",children:"Current Password"}),Object(a.jsx)("input",{id:"current_password",value:u.current_password,name:"current_password",onChange:function(e){return O(e)},type:"password",className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:Te.label,htmlFor:"new_password",children:"New Password"}),Object(a.jsx)("input",{id:"new_password",value:u.new_password,name:"new_password",onChange:function(e){return O(e)},type:"password",className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group col-md-12",children:[Object(a.jsx)("label",{style:Te.label,htmlFor:"retype_new_password",children:"Confirm New Password"}),Object(a.jsx)("input",{id:"retype_new_password",value:u.retype_new_password,name:"retype_new_password",onChange:function(e){return O(e)},type:"password",className:"form-control"})]}),n?Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsx)("div",{className:"form-group col-md-12",children:Object(a.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),r(!0),u.new_password===u.retype_new_password){var t=localStorage.getItem("token"),c=JSON.parse(t);x.a.post("https://server.wakafoods.com/api/profile/password/update",u,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}}).then((function(){var e;r(!1),e="Password updated successfully",re.b.success(e)})).catch((function(e){r(!1),p(e.response.data.errors.current_password[0])}))}else r(!1),p("Passwords do not match")},className:"btn  btn-block",style:{color:"white",backgroundColor:"black"},children:"CHANGE PASSWORD"})})]})})})})})]})}var Te={label:{fontSize:"0.9em",fontWeight:"bold",color:"black"},formError:{fontSize:"0.7em",color:"red",marginTop:"10px",fontWeight:"bold"}},We=c(62);Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};new Date;var Le=function(e){var t=Object(d.f)(),c=Object(s.useState)([]),n=Object(h.a)(c,2),r=(n[0],n[1]),o=Object(s.useState)(!1),i=Object(h.a)(o,2),j=(i[0],i[1],Object(s.useState)(!1)),b=Object(h.a)(j,2),u=b[0],m=b[1],O=Object(s.useState)(!1),p=Object(h.a)(O,2),f=(p[0],p[1],Object(s.useState)({status:!1,date:null})),g=Object(h.a)(f,2),y=(g[0],g[1],Object(s.useState)({status:!1,date:null})),N=Object(h.a)(y,2),S=(N[0],N[1],Object(s.useState)({status:!1,date:null})),w=Object(h.a)(S,2),k=(w[0],w[1],Object(s.useState)({status:!1,date:null})),_=Object(h.a)(k,2),E=(_[0],_[1],Object(s.useState)({status:!1,date:null})),I=Object(h.a)(E,2),z=(I[0],I[1],Object(s.useState)({status:!1,date:null})),A=Object(h.a)(z,2),F=(A[0],A[1],Object(s.useState)({status:!1,date:null})),T=Object(h.a)(F,2),W=(T[0],T[1],Object(s.useState)(null)),L=Object(h.a)(W,2),P=(L[0],L[1],Object(s.useState)(null)),D=Object(h.a)(P,2),R=(D[0],D[1],Object(s.useState)({reference:Object(B.a)(),email:"",amount:"",metadata:{customer:"",email:"",order_codes:[]},publicKey:"pk_live_09c5cb5a0db47dbe7a2c4488bb27fbb6f2f3109c"})),J=Object(h.a)(R,2),M=J[0],q=J[1],U=Object(s.useState)({first_name:"",last_name:"",title:"",phone:""}),Y=Object(h.a)(U,2),H=Y[0],G=Y[1],K=Object(s.useState)(""),V=Object(h.a)(K,2),X=V[0],Q=V[1],Z=Object(s.useState)({location:"",code:"",place:""}),$=Object(h.a)(Z,2),ee=$[0],te=$[1],ce=Object(s.useState)(""),ae=Object(h.a)(ce,2),ne=ae[0],oe=ae[1],le=Object(s.useState)([]),ie=Object(h.a)(le,2),de=(ie[0],ie[1]),je=Object(s.useState)(!0),be=Object(h.a)(je,2),ue=be[0],me=be[1],Oe=Object(s.useState)("door_delivery"),he=Object(h.a)(Oe,2),pe=he[0],xe=he[1],fe=Object(s.useState)(!1),ve=Object(h.a)(fe,2),ge=ve[0],ye=ve[1],Ne=function(e){return re.b.error(e)},Se=function(e){var c=localStorage.getItem("token"),a=JSON.parse(c);localStorage.removeItem("cart"),m(!1),me(!0),x.a.get("https://server.wakafoods.com/api/order/verify_payment?trxref=".concat(M.reference),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"}}).then((function(){var e;me(!1),e="Order completed and payment successful",re.b.success(e),m(!1),t.push("/account/open")}))},we=function(){x.a.get("https://server.wakafoods.com/api/order/verify_payment?trxref=".concat(M.reference)).then((function(){Ne("Could not complete payment"),m(!1),t.push("/account/open"),q(Object(l.a)(Object(l.a)({},M),{},{reference:Object(B.a)()}))}))};Object(s.useEffect)((function(){if("undefined"!==typeof e.location.query){var c=localStorage.getItem("token"),a=JSON.parse(c),s=localStorage.getItem("cart"),n=JSON.parse(s),r=localStorage.getItem("door_delivery"),o=JSON.parse(r),i=localStorage.getItem("pickup"),d=JSON.parse(i),j=localStorage.getItem("deliveryOption"),b=JSON.parse(j),u=localStorage.getItem("place"),m=JSON.parse(u);oe(m),"door_delivery"===b&&Q(o),"pickup"===b&&te(d),xe(b),de(n),x.a.get("https://server.wakafoods.com/api/profile/details",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){me(!1),q(Object(l.a)(Object(l.a)({},M),{},{email:e.data.details.email,metadata:Object(l.a)(Object(l.a)({},M.metadata),{},{email:e.data.details.email,customer:"".concat(e.data.details.first_name," ").concat(e.data.details.last_name)})})),G({first_name:e.data.details.first_name,last_name:e.data.details.last_name,title:e.data.details.title,phone:e.data.details.phone})}))}else t.push("/cart")}),[]);Object(We.a)(M);var ke=function(){var e=Object(We.a)(M);return Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"btn btn-lg btn-block",style:{backgroundColor:"#ff8903",border:"none",color:"white",fontWeight:"bold"},onClick:function(){e(Se,we)},children:"CONTINUE TO PAYMENT"})})};return Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{cart:!0}),Object(a.jsx)(re.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),ue?Object(a.jsx)(se,{}):Object(a.jsx)("div",{className:"my-5 container checkout-container",children:Object(a.jsx)("div",{style:{height:"100%"},className:"row d-flex justify-content-center align-items-center",children:u?Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"mt-3",children:Object(a.jsx)(ke,{})}):Object(a.jsxs)("div",{style:{height:"100%"},className:"row d-flex justify-content-center align-items-center",children:[Object(a.jsx)("div",{className:"col-lg-8 checkout p-2 shadow px-2 py-4",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h5",{children:"Delivery Summary"}),Object(a.jsx)("hr",{className:"mt-3"}),Object(a.jsxs)("div",{className:"mt-2 row",children:[Object(a.jsx)("div",{className:"col-lg-1"}),Object(a.jsx)("div",{style:{border:"1px solid gray",backgroundColor:"door_delivery"===pe?"#ffeee3":"white"},className:"col-lg-5 cursor mr-lg-1",children:Object(a.jsxs)("div",{className:"p-2",children:[Object(a.jsx)("h5",{style:{color:"#ff8903"},children:"Deliver to me"}),Object(a.jsx)("hr",{className:"mt-2"}),Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("div",{style:{fontSize:"15px"},children:[Object(a.jsx)(v.d,{style:{color:"#ff8903",fontSize:"17px"}}),"".concat(H.first_name," ").concat(H.last_name)]}),Object(a.jsxs)("div",{className:"mt-2",style:{fontSize:"15px"},children:[Object(a.jsx)(v.e,{style:{color:"#ff8903",fontSize:"17px"}}),"   ".concat(H.phone)]}),X.length>0&&Object(a.jsx)("div",{className:"my-3",children:Object(a.jsx)("input",{name:"address",value:X,disabled:!0,type:"text",className:"form-control"})})]})]})}),Object(a.jsx)("div",{style:{border:"1px solid gray",backgroundColor:"pickup"===pe?"#ffeee3":"white"},className:"col-lg-5 cursor ml-lg-1 mt-3 mt-lg-0",children:Object(a.jsxs)("div",{className:"p-1",children:[Object(a.jsx)("h6",{style:{color:"#ff8903"},children:"Selected Pickup Location"}),Object(a.jsx)("hr",{className:"mt-2"}),Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsxs)("div",{style:{fontSize:"15px"},children:[Object(a.jsx)(v.c,{style:{color:"#ff8903",fontSize:"17px"}}),"   ".concat(ee.location)]})})]})}),Object(a.jsx)("div",{className:"col-lg-1"})]})]})}),Object(a.jsx)("div",{className:"col-lg-1"}),Object(a.jsx)("div",{className:"col-lg-3 mt-3 mt-lg-0 p-2",children:Object(a.jsx)("div",{children:ge?Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)("div",{className:"spinner-grow",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsx)("button",{onClick:function(){ye(!0);var e=localStorage.getItem("token"),t=JSON.parse(e),c=localStorage.getItem("cart"),a=JSON.parse(c);x.a.post("https://server.wakafoods.com/api/order/new",{delivery_type:pe,pickup_code:ee.code,place:ne,address:X,meals:a},{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){r(e.data.order_codes),q(Object(l.a)(Object(l.a)({},M),{},{amount:100*e.data.order_total,metadata:Object(l.a)(Object(l.a)({},M.metadata),{},{order_codes:e.data.order_codes})})),setTimeout((function(){ye(!1),m(!0)}),2e3)})).catch((function(){ye(!1),Ne("An error occured.... Try again")}))},className:"btn btn-lg btn-block",style:{backgroundColor:"#ff8903",border:"none",color:"white",fontWeight:"bold",fontSize:"19px"},children:"CONTINUE TO ORDER"})})})})]})})})]})},Pe=c(92),De=c(93),Re=c(95),Je=c(94);function Me(e){return function(t){Object(Re.a)(s,t);var c=Object(Je.a)(s);function s(){return Object(Pe.a)(this,s),c.apply(this,arguments)}return Object(De.a)(s,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");if("string"!==typeof JSON.parse(e))return"/checkout"===!this.props.location.pathname?this.props.history.push("/signin"):this.props.history.push({pathname:"/signin",state:{cart:!0}})}},{key:"componentDidUpdate",value:function(e){var t=localStorage.getItem("token");if("string"!==typeof JSON.parse(t))return this.props.history.push("/signin")}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(e,Object(l.a)({},this.props))})}}]),s}(s.Component)}var Be=function(e){return Object(a.jsx)(g.a,{store:Ae,children:Object(a.jsx)(i.a,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/",render:function(e){return Object(a.jsx)(me,Object(l.a)({},e))}}),Object(a.jsx)(d.a,Object(l.a)(Object(l.a)({cart:!0},e),{},{exact:!0,path:"/checkout",component:Me(Le)})),Object(a.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{exact:!0,path:"/account",component:Me(Oe)})),Object(a.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{exact:!0,path:"/account/edit",component:Me(ve)})),Object(a.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{exact:!0,path:"/account/open",component:Me(xe)})),Object(a.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{exact:!0,path:"/account/close",component:Me(fe)})),Object(a.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{exact:!0,path:"/account/password",component:Me(Fe)})),Object(a.jsx)(d.a,{exact:!0,path:"/cart",render:function(e){return Object(a.jsx)(ye,Object(l.a)({},e))}}),Object(a.jsx)(d.a,{exact:!0,path:"/signin",render:function(e){return Object(a.jsx)(Ne,Object(l.a)({},e))}}),Object(a.jsx)(d.a,{exact:!0,path:"/signup",render:function(e){return Object(a.jsx)(we,Object(l.a)({},e))}})]})})})})},qe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,187)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};o.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(Be,{})}),document.getElementById("root")),qe()}},[[159,1,2]]]);
//# sourceMappingURL=main.9226bec9.chunk.js.map